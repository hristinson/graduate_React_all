{"ast":null,"code":"var __defProp = Object.defineProperty;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n  return value;\n}; // src/index.tsx\n\n\nimport { Component, createRef } from \"react\";\nimport { css as css5 } from \"@emotion/react\";\nimport styled12 from \"@emotion/styled\";\nimport isEqual2 from \"@gilbarbara/deep-equal\"; // src/modules/colors.ts\n\nfunction formatHex(input) {\n  const color = input.replace(\"#\", \"\");\n  let hex = color;\n\n  if (color.length === 3 || color.length === 4) {\n    hex = \"\";\n    [...color].forEach(d => {\n      hex += `${d}${d}`;\n    });\n  }\n\n  hex = `#${hex}`;\n  return hex;\n}\n\nfunction getTextColor(input) {\n  return getYiq(input) > 135 ? \"#000\" : \"#fff\";\n}\n\nfunction getYiq(color) {\n  if (!isValidHex(color)) {\n    return 0;\n  }\n\n  const {\n    blue,\n    green,\n    red\n  } = hexToRGB(color);\n  return (red * 299 + green * 587 + blue * 114) / 1e3;\n}\n\nfunction hexToRGB(input) {\n  if (!isValidHex(input)) {\n    return {\n      red: 0,\n      green: 0,\n      blue: 0\n    };\n  }\n\n  const hex = formatHex(input).replace(\"#\", \"\");\n  return {\n    red: parseInt(String(hex.charAt(0)) + hex.charAt(1), 16),\n    green: parseInt(String(hex.charAt(2)) + hex.charAt(3), 16),\n    blue: parseInt(String(hex.charAt(4)) + hex.charAt(5), 16)\n  };\n}\n\nfunction hexToRGBA(input, alpha) {\n  const {\n    blue,\n    green,\n    red\n  } = hexToRGB(input);\n  return `rgba(${red}, ${green}, ${blue}${alpha ? `, ${alpha}` : \"\"})`;\n}\n\nfunction isValidHex(input) {\n  return /^#([\\dA-Fa-f]{6}|[\\dA-Fa-f]{3})$/.test(input);\n} // src/modules/helpers.ts\n\n\nimport innerText from \"react-innertext\";\nimport { canUseDOM as canUseDOMBool } from \"exenv\"; // src/config.ts\n\nimport isPropValid from \"@emotion/is-prop-valid\";\nimport isEqual from \"@gilbarbara/deep-equal\";\nvar SLUG = \"react-dropdown\";\nvar defaultProps = {\n  autoFocus: true,\n  clearOnClose: true,\n  clearOnSelect: true,\n  closeOnScroll: false,\n  closeOnSelect: false,\n  comparatorFn: isEqual,\n  create: false,\n  direction: \"ltr\",\n  disabled: false,\n  hideHandle: false,\n  keepSelectedInList: true,\n  loading: false,\n  menuPosition: \"bottom\",\n  multi: false,\n  placeholder: \"Select...\",\n  searchable: true,\n  searchBy: \"label\",\n  secondaryPlaceholder: \"\",\n  showClearButton: false,\n  showSeparator: false,\n  values: []\n};\nvar styledOptions = {\n  shouldForwardProp: prop => isPropValid(prop) && ![\"color\", \"direction\", \"onClearAll\", \"onCreate\", \"onClose\", \"onOpen\", \"onSelectAll\", \"spacing\", \"width\"].includes(prop)\n}; // src/modules/helpers.ts\n\nvar canUseDOM = () => canUseDOMBool;\n\nfunction debounce(fn) {\n  let delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  let timerId;\n  return function () {\n    for (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n      arguments_[_key] = arguments[_key];\n    }\n\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n\n    timerId = window.setTimeout(() => {\n      fn(...arguments_);\n      timerId = 0;\n    }, delay);\n  };\n}\n\nfunction getAllOptions(options, values) {\n  const nextValues = options.filter(option => !option.disabled);\n\n  if (values.length) {\n    values.forEach(value => {\n      if (!nextValues.some(option => option.value === value.value)) {\n        nextValues.push(value);\n      }\n    });\n  }\n\n  return nextValues;\n}\n\nfunction getOptionData(input, key) {\n  const value = input[key];\n\n  if (!isString(value) && !isNumber(value)) {\n    return innerText(value);\n  }\n\n  return value;\n}\n\nfunction getComponentMinHeight(minHeight) {\n  let amount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  return px(minHeight - amount);\n}\n\nfunction getCursor(cursor, type) {\n  let values = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  const total = values.length;\n  const lastValidIndex = values.map(item => !!item.disabled).lastIndexOf(false);\n  const disabled = values.reduce((acc, value, index) => {\n    if (value.disabled) {\n      acc.push(index);\n    }\n\n    return acc;\n  }, []);\n\n  const getNextCursor = nextCursor => {\n    if (type === \"down\") {\n      if (nextCursor === total) {\n        return 0;\n      }\n\n      if (disabled.includes(nextCursor)) {\n        return getNextCursor(nextCursor + 1);\n      }\n    } else if (type === \"up\") {\n      if (nextCursor < 0) {\n        return lastValidIndex;\n      }\n\n      if (disabled.includes(nextCursor)) {\n        return getNextCursor(nextCursor - 1);\n      }\n    }\n\n    return nextCursor;\n  };\n\n  if (cursor === null) {\n    return type === \"down\" ? 0 : lastValidIndex;\n  } else if (type === \"down\") {\n    return getNextCursor(cursor + 1);\n  } else if (type === \"up\") {\n    return getNextCursor(cursor - 1);\n  }\n\n  return cursor;\n}\n\nfunction getLabels(labels) {\n  const {\n    clear = \"Clear\",\n    create = \"Add {search}\",\n    disabled = \"disabled\",\n    noData = \"No data\",\n    toggle = \"Toggle\"\n  } = labels || {};\n  return {\n    clear,\n    create,\n    disabled,\n    noData,\n    toggle\n  };\n}\n\nfunction getPosition(props, list) {\n  const {\n    methods: {\n      getDropdownRef,\n      getStyles: getStylesMethod\n    },\n    props: {\n      menuPosition = defaultProps.menuPosition\n    }\n  } = props;\n  const dropdown = getDropdownRef();\n  const {\n    gap\n  } = getStylesMethod();\n  const spacing = 16;\n\n  if (menuPosition !== \"auto\" || !list || !dropdown) {\n    return menuPosition;\n  }\n\n  const {\n    bottom\n  } = dropdown.getBoundingClientRect();\n  const {\n    height\n  } = list.getBoundingClientRect();\n  const viewportHeight = isomorphicWindow().innerHeight;\n  const totalHeight = bottom + height + gap + spacing;\n\n  if (totalHeight > viewportHeight) {\n    return \"top\";\n  }\n\n  return \"bottom\";\n}\n\nfunction getStyles(styles) {\n  const {\n    bgColor = \"#fff\",\n    borderColor = \"#ccc\",\n    borderRadius = \"4px\",\n    color = \"#1E90FF\",\n    disabledItemBgColor = \"#f2f2f2\",\n    disabledItemColor = \"#999\",\n    gap = 2,\n    hoverColor,\n    hoverOpacity = 0.2,\n    menuMaxHeight = 300,\n    minHeight = 36,\n    placeholderColor = \"#999\",\n    spacingX = 12,\n    spacingY = 8,\n    width = \"100%\"\n  } = styles || {};\n  return {\n    bgColor,\n    borderColor,\n    borderRadius: px(borderRadius),\n    color,\n    disabledItemBgColor,\n    disabledItemColor,\n    gap,\n    hoverColor: hoverColor || color,\n    hoverOpacity,\n    menuMaxHeight,\n    minHeight,\n    placeholderColor,\n    spacingX: px(spacingX),\n    spacingY: px(spacingY),\n    width: px(width)\n  };\n}\n\nfunction isomorphicWindow() {\n  if (typeof window === \"undefined\") {\n    return {\n      innerHeight: 0\n    };\n  }\n\n  return window;\n}\n\nfunction isNumber(input) {\n  return typeof input === \"number\";\n}\n\nfunction isString(input) {\n  return typeof input === \"string\";\n}\n\nfunction px(input) {\n  return isString(input) ? input : `${input}px`;\n}\n\nfunction matchOptions(options, search) {\n  let strict = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  return options.some(d => {\n    const label = strict ? getOptionData(d, \"label\") === search : getOptionData(d, \"label\").includes(String(search));\n    const value = strict ? getOptionData(d, \"value\") === search : String(getOptionData(d, \"value\")).includes(String(search));\n    return label || value;\n  });\n} // src/components/Clear.tsx\n\n\nimport styled from \"@emotion/styled\"; // src/icons/Times.tsx\n\nimport { jsx } from \"react/jsx-runtime\";\n\nfunction Times(_ref) {\n  let {\n    size = 8\n  } = _ref;\n  return /* @__PURE__ */jsx(\"svg\", {\n    height: px(size),\n    preserveAspectRatio: \"xMidYMid\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: px(size),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */jsx(\"g\", {\n      children: /* @__PURE__ */jsx(\"path\", {\n        d: \"M0.313174194,0.313176288 C0.730750479,-0.104392096 1.40776019,-0.104392096 1.82533647,0.313176288 L7.99996524,6.48786773 L14.174701,0.313176288 C14.5922452,-0.104392096 15.2692976,-0.104392096 15.6868418,0.313176288 C16.1043861,0.730755364 16.1043861,1.4077696 15.6868418,1.82534867 L9.51210613,8.00001873 L15.6867349,14.1746887 C16.1042791,14.5922357 16.1042791,15.2692928 15.6867349,15.6868398 C15.2691907,16.1043867 14.5921382,16.1043867 14.174594,15.6868398 L7.99996524,9.51216972 L1.82538994,15.6868398 C1.40782434,16.1043867 0.730814635,16.1043867 0.313238349,15.6868398 C-0.104327243,15.2692928 -0.104327243,14.5922357 0.313238349,14.1746887 L6.48782435,8.00001873 L0.313174194,1.82534867 C-0.104391398,1.4077696 -0.104391398,0.730755364 0.313174194,0.313176288 Z\",\n        fill: \"currentColor\"\n      })\n    })\n  });\n}\n\nvar Times_default = Times; // src/components/Clear.tsx\n\nimport { jsx as jsx2 } from \"react/jsx-runtime\";\nvar StyledClear = styled.div`\n  align-items: center;\n  color: ${_ref2 => {\n  let {\n    bgColor\n  } = _ref2;\n  return getTextColor(bgColor);\n}};\n  display: inline-flex;\n  justify-content: center;\n  min-height: ${_ref3 => {\n  let {\n    minHeight\n  } = _ref3;\n  return getComponentMinHeight(minHeight);\n}};\n  width: 24px;\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    fill: ${_ref4 => {\n  let {\n    hoverColor\n  } = _ref4;\n  return hoverColor;\n}};\n  }\n`;\n\nfunction Clear(props) {\n  const {\n    methods: {\n      clearAll,\n      getLabels: getLabels2,\n      getStyles: getStyles2\n    },\n    props: {\n      clearComponent\n    }\n  } = props;\n  const {\n    clear\n  } = getLabels2();\n\n  if (clearComponent) {\n    return clearComponent(props);\n  }\n\n  const handleClick = event => {\n    event.stopPropagation();\n    clearAll();\n  };\n\n  return /* @__PURE__ */jsx2(StyledClear, {\n    \"aria-label\": clear,\n    className: `${SLUG}-clear`,\n    \"data-component-name\": \"DropdownClear\",\n    onClick: handleClick,\n    title: clear,\n    ...getStyles2(),\n    children: /* @__PURE__ */jsx2(Times_default, {})\n  });\n} // src/components/Content.tsx\n\n\nimport styled4 from \"@emotion/styled\"; // src/components/Input.tsx\n\nimport { useEffect as useEffect2, useRef as useRef2 } from \"react\";\nimport { css } from \"@emotion/react\";\nimport styled2 from \"@emotion/styled\"; // src/modules/hooks.ts\n\nimport { useEffect, useRef } from \"react\";\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n} // src/components/Input.tsx\n\n\nimport { jsx as jsx3 } from \"react/jsx-runtime\";\nvar StyledInput = styled2.input(props => {\n  const {\n    bgColor,\n    placeholderColor,\n    readOnly,\n    size\n  } = props;\n  return css`\n    background-color: transparent;\n    border: none;\n    color: ${getTextColor(bgColor)};\n    ${readOnly && \"cursor: pointer;\"}\n    font-size: inherit;\n    line-height: inherit;\n    padding: 0;\n    width: ${`${size}ch`};\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ${placeholderColor};\n    }\n  `;\n});\n\nfunction getPlaceholder(_ref5) {\n  let {\n    props,\n    state\n  } = _ref5;\n  const {\n    placeholder,\n    searchable,\n    secondaryPlaceholder\n  } = props;\n  const hasValues = state.values && state.values.length > 0;\n\n  if (hasValues && secondaryPlaceholder && searchable) {\n    return secondaryPlaceholder;\n  }\n\n  if (!hasValues) {\n    return placeholder;\n  } else if (!searchable) {\n    return \"\";\n  }\n\n  return \"\";\n}\n\nfunction Input(props) {\n  const {\n    methods: {\n      createItem,\n      getInputSize,\n      getStyles: getStyles2,\n      setSearch\n    },\n    props: {\n      autoFocus,\n      create,\n      disabled,\n      inputComponent,\n      options,\n      searchable\n    },\n    state: {\n      cursor,\n      search,\n      status,\n      values\n    }\n  } = props;\n  const ref = useRef2(null);\n  const previousStatus = usePrevious(status);\n  useEffect2(() => {\n    var _a, _b;\n\n    if (previousStatus !== status && status && autoFocus) {\n      (_a = ref.current) == null ? void 0 : _a.focus();\n    }\n\n    if (previousStatus !== status && !status) {\n      (_b = ref.current) == null ? void 0 : _b.blur();\n    }\n  }, [autoFocus, status, previousStatus]);\n\n  const handleBlur = event => {\n    var _a, _b;\n\n    event.stopPropagation();\n\n    if (!status) {\n      (_a = ref.current) == null ? void 0 : _a.blur();\n      return;\n    }\n\n    (_b = ref.current) == null ? void 0 : _b.focus();\n  };\n\n  const handleKeyDown = event => {\n    if (create && event.key === \"Enter\" && !matchOptions([...values, ...options], search, false) && search && cursor === null) {\n      createItem(search);\n    }\n  };\n\n  if (inputComponent) {\n    return inputComponent({ ...props,\n      inputRef: ref\n    });\n  }\n\n  return /* @__PURE__ */jsx3(StyledInput, {\n    ref,\n    className: `${SLUG}-input`,\n    \"data-component-name\": \"DropdownInput\",\n    disabled,\n    onBlur: handleBlur,\n    onChange: setSearch,\n    onKeyDown: handleKeyDown,\n    placeholder: getPlaceholder(props),\n    readOnly: !searchable,\n    size: getInputSize(),\n    tabIndex: -1,\n    value: search,\n    ...getStyles2()\n  });\n} // src/components/Option.tsx\n\n\nimport { css as css2 } from \"@emotion/react\";\nimport styled3 from \"@emotion/styled\";\nimport { jsx as jsx4, jsxs } from \"react/jsx-runtime\";\nvar StyledOption = styled3.span(props => {\n  const {\n    color,\n    direction\n  } = props;\n  return css2`\n    align-items: center;\n    background-color: ${color};\n    border-radius: 2px;\n    color: ${getTextColor(color)};\n    display: flex;\n    flex-direction: ${direction === \"rtl\" ? \"row-reverse\" : \"row\"};\n    line-height: 1;\n    margin: 3px 6px 3px 0;\n    padding: 4px;\n\n    :hover,\n    :hover > span {\n      opacity: 0.9;\n    }\n  `;\n});\nvar RemoveButton = styled3.button`\n  align-items: center;\n  appearance: none;\n  background-color: transparent;\n  border: none;\n  color: ${_ref6 => {\n  let {\n    color\n  } = _ref6;\n  return getTextColor(color);\n}};\n  cursor: pointer;\n  display: inline-flex;\n  height: 16px;\n  justify-content: center;\n  margin-left: 4px;\n  padding: 0;\n  width: 16px;\n`;\n\nfunction Option(props) {\n  const {\n    item,\n    methods: {\n      removeItem\n    },\n    props: {\n      closeOnSelect = defaultProps.closeOnSelect,\n      direction = defaultProps.direction,\n      optionComponent,\n      styles\n    }\n  } = props;\n\n  if (optionComponent) {\n    return optionComponent(props);\n  }\n\n  return /* @__PURE__ */jsxs(StyledOption, {\n    className: `${SLUG}-option`,\n    \"data-component-name\": \"DropdownOption\",\n    direction,\n    role: \"listitem\",\n    ...getStyles(styles),\n    children: [/* @__PURE__ */jsx4(\"span\", {\n      className: `${SLUG}-option-label`,\n      children: getOptionData(item, \"label\")\n    }), /* @__PURE__ */jsx4(RemoveButton, {\n      className: `${SLUG}-option-remove`,\n      \"data-component-name\": \"DropdownOptionRemove\",\n      onClick: event => removeItem(event, item, closeOnSelect),\n      role: \"presentation\",\n      ...getStyles(styles),\n      children: /* @__PURE__ */jsx4(Times_default, {})\n    })]\n  });\n} // src/components/Content.tsx\n\n\nimport { Fragment, jsx as jsx5, jsxs as jsxs2 } from \"react/jsx-runtime\";\nvar StyledContent = styled4.div`\n  display: flex;\n  flex: 1;\n  flex-wrap: wrap;\n  min-height: ${_ref7 => {\n  let {\n    minHeight\n  } = _ref7;\n  return getComponentMinHeight(minHeight);\n}};\n  padding: 2px ${_ref8 => {\n  let {\n    spacingX\n  } = _ref8;\n  return spacingX;\n}};\n\n  > span + input {\n    margin-left: 6px;\n  }\n`;\nvar StyledSingleOption = styled4.span`\n  align-items: center;\n  align-self: stretch;\n  box-sizing: border-box;\n  color: ${_ref9 => {\n  let {\n    bgColor\n  } = _ref9;\n  return getTextColor(bgColor);\n}};\n  display: inline-flex;\n  justify-content: center;\n`;\n\nfunction Content(props) {\n  const {\n    methods: {\n      getStyles: getStyles2,\n      setStatus\n    },\n    props: {\n      contentComponent,\n      multi,\n      onClickSelector,\n      searchable\n    },\n    state: {\n      status,\n      values\n    }\n  } = props;\n\n  const handleClick = event => {\n    setStatus(\"toggle\", event);\n\n    if (onClickSelector) {\n      onClickSelector(status);\n    }\n  };\n\n  return /* @__PURE__ */jsx5(StyledContent, {\n    className: `${SLUG}-content ${multi ? `${SLUG}-type-multi` : `${SLUG}-type-single`}`,\n    onClick: handleClick,\n    ...getStyles2(),\n    children: contentComponent ? contentComponent(props) : /* @__PURE__ */jsxs2(Fragment, {\n      children: [multi ? values.map(item => /* @__PURE__ */jsx5(Option, {\n        item,\n        ...props\n      }, `${getOptionData(item, \"label\")}${getOptionData(item, \"value\")}`)) : !!values.length && /* @__PURE__ */jsx5(StyledSingleOption, {\n        \"data-component-name\": \"DropdownSingleOption\",\n        ...getStyles2(),\n        children: getOptionData(values[0], \"label\")\n      }), (!values.length || searchable) && /* @__PURE__ */jsx5(Input, { ...props\n      })]\n    })\n  });\n} // src/components/Handle.tsx\n\n\nimport isPropValid2 from \"@emotion/is-prop-valid\";\nimport styled5 from \"@emotion/styled\"; // src/icons/Arrow.tsx\n\nimport { jsx as jsx6 } from \"react/jsx-runtime\";\n\nfunction Arrow(_ref10) {\n  let {\n    size = 12\n  } = _ref10;\n  return /* @__PURE__ */jsx6(\"svg\", {\n    height: px(size),\n    preserveAspectRatio: \"xMidYMid\",\n    version: \"1.1\",\n    viewBox: \"0 0 16 16\",\n    width: px(size),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */jsx6(\"g\", {\n      transform: \"translate(0.0 3.5)\",\n      children: /* @__PURE__ */jsx6(\"path\", {\n        d: \"M14.6367713,0 C14.7802691,0 14.9237668,0.0461538462 15.0672646,0.138461538 L15.8565022,0.969230769 C15.9521674,1.06153846 16,1.17692308 16,1.31538462 C16,1.45384615 15.9521674,1.56923077 15.8565022,1.66153846 L8.39461883,8.86153846 C8.29895366,8.95384615 8.1793722,9 8.03587444,9 C7.89237668,9 7.74887892,8.95384615 7.60538117,8.86153846 L0.143497758,1.66153846 C0.0478325859,1.56923077 0,1.45384615 0,1.31538462 C0,1.17692308 0.0478325859,1.06153846 0.143497758,0.969230769 L1.0044843,0.138461538 C1.10014948,0.0461538462 1.21973094,0 1.3632287,0 C1.50672646,0 1.62630792,0.0461538462 1.72197309,0.138461538 L8.03587444,6.23076923 L14.2780269,0.138461538 C14.3736921,0.0461538462 14.4932735,0 14.6367713,0 Z\",\n        fill: \"currentColor\"\n      })\n    })\n  });\n} // src/components/Handle.tsx\n\n\nimport { jsx as jsx7 } from \"react/jsx-runtime\";\nvar StyledHandle = styled5(\"div\", {\n  shouldForwardProp: prop => isPropValid2(prop) && prop !== \"rotate\"\n})`\n  align-self: stretch;\n  align-items: start;\n  color: ${_ref11 => {\n  let {\n    bgColor\n  } = _ref11;\n  return getTextColor(bgColor);\n}};\n  cursor: pointer;\n  display: flex;\n\n  :hover {\n    path {\n      fill: ${_ref12 => {\n  let {\n    hoverColor\n  } = _ref12;\n  return hoverColor;\n}};\n    }\n  }\n\n  :focus {\n    outline: none;\n\n    path {\n      fill: ${_ref13 => {\n  let {\n    hoverColor\n  } = _ref13;\n  return hoverColor;\n}};\n    }\n  }\n\n  > div {\n    align-items: center;\n    display: inline-flex;\n    height: ${_ref14 => {\n  let {\n    minHeight\n  } = _ref14;\n  return getComponentMinHeight(minHeight);\n}};\n    justify-content: center;\n    min-width: 30px;\n    transition: transform 0.2s ease-in-out;\n    transform: rotate(${_ref15 => {\n  let {\n    status\n  } = _ref15;\n  return status ? 180 : 0;\n}}deg);\n  }\n`;\n\nfunction Handle(props) {\n  const {\n    methods: {\n      getDropdownRef,\n      getLabels: getLabels2,\n      getStyles: getStyles2,\n      setStatus\n    },\n    props: {\n      handleComponent,\n      onClickSelector\n    },\n    state: {\n      status\n    }\n  } = props;\n  const {\n    toggle\n  } = getLabels2();\n\n  const handleClick = event => {\n    var _a;\n\n    (_a = getDropdownRef()) == null ? void 0 : _a.focus();\n    setStatus(\"toggle\", event);\n\n    if (onClickSelector) {\n      onClickSelector(status);\n    }\n  };\n\n  return /* @__PURE__ */jsx7(StyledHandle, {\n    \"aria-label\": toggle,\n    className: `${SLUG}-handle`,\n    \"data-component-name\": \"DropdownHandle\",\n    onClick: handleClick,\n    status,\n    tabIndex: 0,\n    title: toggle,\n    ...getStyles2(),\n    children: /* @__PURE__ */jsx7(\"div\", {\n      children: handleComponent ? handleComponent(props) : /* @__PURE__ */jsx7(Arrow, {})\n    })\n  });\n} // src/components/Loading.tsx\n\n\nimport styled6 from \"@emotion/styled\"; // src/icons/Spinner.tsx\n\nimport { jsx as jsx8, jsxs as jsxs3 } from \"react/jsx-runtime\";\n\nfunction Spinner(_ref16) {\n  let {\n    size = 12\n  } = _ref16;\n  return /* @__PURE__ */jsx8(\"svg\", {\n    height: px(size),\n    preserveAspectRatio: \"xMidYMid\",\n    version: \"1.1\",\n    viewBox: \"0 0 16.0 16.0\",\n    width: px(size),\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */jsxs3(\"g\", {\n      children: [/* @__PURE__ */jsx8(\"path\", {\n        d: \"M8,0 L8,2.4 C4.907208,2.4 2.4,4.907208 2.4,8 L0,8 C0,3.58172 3.58172,0 8,0 Z\",\n        fill: \"currentColor\"\n      }), /* @__PURE__ */jsx8(\"path\", {\n        d: \"M8,0 C12.41824,0 16,3.58172 16,8 C16,12.41824 12.41824,16 8,16 C3.58172,16 0,12.41824 0,8 C0,3.58172 3.58172,0 8,0 Z M8,2.4 C4.907208,2.4 2.4,4.907208 2.4,8 C2.4,11.0928 4.907208,13.6 8,13.6 C11.0928,13.6 13.6,11.0928 13.6,8 C13.6,4.907208 11.0928,2.4 8,2.4 Z\",\n        fill: \"currentColor\",\n        fillOpacity: \"0.3\"\n      })]\n    })\n  });\n} // src/components/Loading.tsx\n\n\nimport { jsx as jsx9 } from \"react/jsx-runtime\";\nvar StyledLoading = styled6.div`\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  align-items: center;\n  color: ${_ref17 => {\n  let {\n    bgColor\n  } = _ref17;\n  return getTextColor(bgColor);\n}};\n  cursor: pointer;\n  display: inline-flex;\n  justify-content: center;\n  min-height: ${_ref18 => {\n  let {\n    minHeight\n  } = _ref18;\n  return getComponentMinHeight(minHeight);\n}};\n  width: 24px;\n\n  path:nth-of-type(1) {\n    transform-origin: 50% 50%;\n    animation: spin 1s linear infinite;\n  }\n`;\n\nfunction Loading(props) {\n  const {\n    methods: {\n      getStyles: getStyles2\n    },\n    props: {\n      loaderComponent\n    }\n  } = props;\n\n  if (loaderComponent) {\n    return loaderComponent(props);\n  }\n\n  return /* @__PURE__ */jsx9(StyledLoading, {\n    className: `${SLUG}-loading`,\n    ...getStyles2(),\n    children: /* @__PURE__ */jsx9(Spinner, {})\n  });\n}\n\nvar Loading_default = Loading; // src/components/Menu.tsx\n\nimport { useEffect as useEffect4, useRef as useRef4, useState } from \"react\";\nimport { css as css4 } from \"@emotion/react\";\nimport styled10 from \"@emotion/styled\"; // src/components/Create.tsx\n\nimport styled7 from \"@emotion/styled\";\nimport { jsx as jsx10 } from \"react/jsx-runtime\";\nvar StyledCreate = styled7.div`\n  color: ${_ref19 => {\n  let {\n    color\n  } = _ref19;\n  return color;\n}};\n  padding: 5px 10px;\n\n  :hover,\n  :focus {\n    background-color: ${_ref20 => {\n  let {\n    color\n  } = _ref20;\n  return hexToRGBA(color, 0.1);\n}};\n    outline: none;\n    cursor: pointer;\n  }\n\n  &.${SLUG}-create-active {\n    background-color: ${_ref21 => {\n  let {\n    color\n  } = _ref21;\n  return color;\n}};\n    color: ${_ref22 => {\n  let {\n    color\n  } = _ref22;\n  return getTextColor(color);\n}};\n  }\n`;\n\nfunction Create(props) {\n  const {\n    methods: {\n      createItem,\n      getLabels: getLabels2,\n      getStyles: getStyles2\n    },\n    props: {\n      create,\n      options\n    },\n    state: {\n      cursor,\n      search,\n      values\n    }\n  } = props;\n  const shouldRender = create && search && !matchOptions([...values, ...options], search, false);\n  const {\n    create: createLabel\n  } = getLabels2();\n\n  const handleClick = event => {\n    event.stopPropagation();\n    createItem(search);\n  };\n\n  if (!shouldRender) {\n    return null;\n  }\n\n  const classes = [`${SLUG}-create`];\n\n  if (cursor === 0) {\n    classes.push(`${SLUG}-create-active`);\n  }\n\n  return /* @__PURE__ */jsx10(StyledCreate, {\n    className: classes.join(\" \"),\n    \"data-component-name\": \"DropdownCreate\",\n    onClick: handleClick,\n    role: \"button\",\n    ...getStyles2(),\n    children: createLabel.replace(\"{search}\", `\"${search}\"`)\n  });\n} // src/components/MenuItem.tsx\n\n\nimport { useEffect as useEffect3, useRef as useRef3 } from \"react\";\nimport { css as css3 } from \"@emotion/react\";\nimport styled8 from \"@emotion/styled\";\nimport { jsx as jsx11, jsxs as jsxs4 } from \"react/jsx-runtime\";\nvar StyledMenuItem = styled8.div(props => {\n  const {\n    bgColor,\n    color,\n    disabled,\n    disabledItemBgColor,\n    disabledItemColor,\n    hoverColor,\n    hoverOpacity,\n    spacingX,\n    spacingY\n  } = props;\n  return css3`\n    color: ${getTextColor(bgColor)};\n    cursor: pointer;\n    padding: ${spacingY} ${spacingX};\n\n    &.${SLUG}-item-active {\n      ${!disabled && `background-color: ${hexToRGBA(color, 0.2)};`}\n    }\n\n    + div {\n      border-top: 1px solid #fff;\n    }\n\n    :hover,\n    :focus {\n      background-color: ${hexToRGBA(hoverColor, hoverOpacity)};\n      outline: none;\n    }\n\n    &.${SLUG}-item-selected {\n      background-color: ${color};\n      color: ${getTextColor(color)};\n\n      &.${SLUG}-item-active {\n        background-color: ${hexToRGBA(color, 0.9)};\n      }\n    }\n\n    ${disabled && css3`\n      background-color: ${disabledItemBgColor} !important;\n      color: ${disabledItemColor} !important;\n      cursor: not-allowed;\n\n      ins {\n        border-radius: 2px;\n        border: 1px solid ${disabledItemColor};\n        font-size: x-small;\n        padding: 0 3px;\n        text-decoration: none;\n        text-transform: uppercase;\n      }\n    `}\n  `;\n});\n\nfunction MenuItem(props) {\n  const {\n    item,\n    itemIndex,\n    methods: {\n      addItem,\n      getLabels: getLabels2,\n      getStyles: getStyles2,\n      isSelected,\n      removeItem\n    },\n    props: {\n      keepSelectedInList,\n      menuItemComponent\n    },\n    state: {\n      cursor\n    }\n  } = props;\n  const ref = useRef3(null);\n  const disabled = item.disabled || false;\n  const {\n    disabled: disabledLabel\n  } = getLabels2();\n  useEffect3(() => {\n    var _a;\n\n    if (cursor === itemIndex) {\n      (_a = ref.current) == null ? void 0 : _a.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"nearest\",\n        inline: \"start\"\n      });\n    }\n  }, [cursor, itemIndex]);\n\n  const handleClick = event => {\n    event.stopPropagation();\n\n    if (disabled) {\n      return;\n    }\n\n    if (isSelected(item)) {\n      removeItem(null, item, false);\n    } else {\n      addItem(item);\n    }\n  };\n\n  if (menuItemComponent) {\n    return menuItemComponent(props);\n  }\n\n  if (!keepSelectedInList && isSelected(item)) {\n    return null;\n  }\n\n  const classes = [`${SLUG}-item`];\n\n  if (isSelected(item)) {\n    classes.push(`${SLUG}-item-selected`);\n  }\n\n  if (cursor === itemIndex) {\n    classes.push(`${SLUG}-item-active`);\n  }\n\n  if (disabled) {\n    classes.push(`${SLUG}-item-disabled`);\n  }\n\n  return /* @__PURE__ */jsxs4(StyledMenuItem, {\n    ref,\n    \"aria-disabled\": disabled,\n    \"aria-label\": getOptionData(item, \"label\"),\n    \"aria-selected\": isSelected(item),\n    className: classes.join(\" \"),\n    \"data-component-name\": \"DropdownMenuItem\",\n    disabled,\n    onClick: handleClick,\n    role: \"option\",\n    tabIndex: -1,\n    ...getStyles2(),\n    style: item.style,\n    children: [getOptionData(item, \"label\"), \" \", disabled && /* @__PURE__ */jsx11(\"ins\", {\n      children: disabledLabel\n    })]\n  }, `${getOptionData(item, \"value\")}${getOptionData(item, \"label\")}`);\n} // src/components/NoData.tsx\n\n\nimport styled9 from \"@emotion/styled\";\nimport { jsx as jsx12 } from \"react/jsx-runtime\";\nvar StyledNoData = styled9.div`\n  color: ${_ref23 => {\n  let {\n    color\n  } = _ref23;\n  return color;\n}};\n  padding: 10px;\n  text-align: center;\n`;\n\nfunction NoData(props) {\n  const {\n    methods: {\n      getLabels: getLabels2,\n      getStyles: getStyles2\n    },\n    props: {\n      noDataComponent\n    }\n  } = props;\n  const {\n    noData\n  } = getLabels2();\n\n  if (noDataComponent) {\n    return noDataComponent(props);\n  }\n\n  return /* @__PURE__ */jsx12(StyledNoData, {\n    className: `${SLUG}-no-data`,\n    \"data-component-name\": \"DropdownNoData\",\n    ...getStyles2(),\n    children: noData\n  });\n}\n\nvar NoData_default = NoData; // src/components/Menu.tsx\n\nimport { Fragment as Fragment2, jsx as jsx13, jsxs as jsxs5 } from \"react/jsx-runtime\";\nvar StyledMenu = styled10(\"div\")(props => {\n  const {\n    bgColor,\n    borderColor,\n    borderRadius,\n    dropdownBounds,\n    gap,\n    isVisible,\n    menuMaxHeight,\n    position\n  } = props;\n  const borderWidth = 2;\n  return css4`\n    background-color: ${bgColor};\n    border-radius: ${borderRadius};\n    border: 1px solid ${borderColor};\n    box-shadow: 0 0 10px 0 ${hexToRGBA(\"#000000\", 0.2)};\n    display: flex;\n    flex-direction: column;\n    left: -1px;\n    max-height: ${px(menuMaxHeight)};\n    opacity: ${isVisible ? 1 : 0};\n    overflow: auto;\n    position: absolute;\n    width: ${dropdownBounds.width}px;\n    z-index: 9;\n    ${position === \"top\" ? `bottom: ${dropdownBounds.height + borderWidth + gap}px` : `top: ${dropdownBounds.height + borderWidth + gap}px`};\n\n    :focus {\n      outline: none;\n    }\n  }\n  `;\n});\n\nfunction Menu(props) {\n  const {\n    methods: {\n      getStyles: getStyles2\n    },\n    props: {\n      menuComponent\n    },\n    state: {\n      dropdownBounds,\n      searchResults\n    }\n  } = props;\n  const listRef = useRef4(null);\n  const [isVisible, setVisible] = useState(false);\n  useEffect4(() => {\n    setVisible(true);\n  }, []);\n  const position = getPosition(props, listRef.current);\n  return /* @__PURE__ */jsx13(StyledMenu, {\n    ref: listRef,\n    className: `${SLUG}-menu ${SLUG}-menu-position-${position}`,\n    \"data-component-name\": \"DropdownMenu\",\n    dropdownBounds,\n    isVisible,\n    position,\n    role: \"list\",\n    tabIndex: -1,\n    ...getStyles2(),\n    children: menuComponent ? menuComponent(props) : /* @__PURE__ */jsxs5(Fragment2, {\n      children: [/* @__PURE__ */jsx13(Create, { ...props\n      }), searchResults.length ? searchResults.map((item, itemIndex) => /* @__PURE__ */jsx13(MenuItem, {\n        item,\n        itemIndex,\n        ...props\n      }, item.value)) : /* @__PURE__ */jsx13(NoData_default, { ...props\n      })]\n    })\n  });\n}\n\nvar Menu_default = Menu; // src/components/Separator.tsx\n\nimport styled11 from \"@emotion/styled\";\nimport { jsx as jsx14 } from \"react/jsx-runtime\";\nvar StyledSeparator = styled11.div`\n  align-self: stretch;\n  background-color: ${_ref24 => {\n  let {\n    borderColor\n  } = _ref24;\n  return borderColor;\n}};\n  display: block;\n  width: 1px;\n`;\n\nfunction Separator(props) {\n  const {\n    methods: {\n      getStyles: getStyles2\n    },\n    props: {\n      separatorComponent\n    }\n  } = props;\n\n  if (separatorComponent) {\n    return separatorComponent(props);\n  }\n\n  return /* @__PURE__ */jsx14(StyledSeparator, {\n    className: `${SLUG}-separator`,\n    ...getStyles2()\n  });\n} // src/index.tsx\n\n\nimport { jsx as jsx15, jsxs as jsxs6 } from \"react/jsx-runtime\";\nvar ReactDropdown = styled12(\"div\", styledOptions)(props => {\n  const {\n    bgColor,\n    borderColor,\n    borderRadius,\n    color,\n    direction,\n    disabled,\n    minHeight,\n    width\n  } = props;\n  return css5`\n    align-items: start;\n    background-color: ${bgColor};\n    border-radius: ${borderRadius};\n    border: 1px solid ${borderColor};\n    box-sizing: border-box;\n    cursor: pointer;\n    direction: ${direction};\n    display: flex;\n    flex-direction: row;\n    min-height: ${px(minHeight)};\n    position: relative;\n    width: ${width};\n    ${disabled ? `\n      cursor: not-allowed;\n      opacity: 0.6;\n      pointer-events: none;\n      ` : `\n      pointer-events: all;\n      `};\n\n    :hover,\n    :focus-within {\n      border-color: ${color};\n    }\n\n    :focus,\n    :focus-within {\n      outline: 0;\n      box-shadow: 0 0 0 3px ${hexToRGBA(color, 0.2)};\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n  `;\n});\nvar Dropdown = class extends Component {\n  dropdownRef;\n  methods;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      cursor: null,\n      dropdownBounds: {},\n      search: \"\",\n      searchResults: props.options,\n      status: props.open || false,\n      values: props.values || []\n    };\n    this.methods = {\n      addItem: this.addItem,\n      areAllSelected: this.areAllSelected,\n      clearAll: this.clearAll,\n      createItem: this.createItem,\n      getDropdownBounds: () => this.state.dropdownBounds,\n      getDropdownRef: () => this.dropdownRef.current,\n      getInputSize: this.getInputSize,\n      getLabels: this.getLabels,\n      getOptionData: this.getOptionData,\n      getStyles: this.getStyles,\n      handleKeyDown: this.handleKeyDown,\n      isSelected: this.isSelected,\n      removeItem: this.removeItem,\n      safeString: this.safeString,\n      searchResults: this.searchResults,\n      selectAll: this.selectAll,\n      setSearch: this.setSearch,\n      setStatus: this.setStatus,\n      toggleAll: this.toggleAll\n    };\n    this.dropdownRef = createRef();\n  }\n\n  componentDidMount() {\n    if (!canUseDOM()) {\n      return;\n    }\n\n    window.addEventListener(\"resize\", this.handleResize, true);\n    window.addEventListener(\"scroll\", this.handleScroll, true);\n\n    if (this.dropdownRef) {\n      this.updateDropdownBounds();\n    }\n  }\n\n  componentDidUpdate(previousProps, previousState) {\n    const {\n      search,\n      status,\n      values: stateValues\n    } = this.state;\n    const {\n      closeOnSelect,\n      comparatorFn = defaultProps.comparatorFn,\n      multi,\n      onChange,\n      onClose,\n      onOpen,\n      open,\n      options,\n      values = []\n    } = this.props;\n\n    if (!comparatorFn(previousProps.values || [], values) && comparatorFn(previousProps.values || [], previousState.values)) {\n      this.setState({\n        values\n      });\n      this.updateDropdownBounds();\n    }\n\n    if (!comparatorFn(previousProps.options, options)) {\n      this.setState({\n        searchResults: this.searchResults()\n      });\n    }\n\n    if (!comparatorFn(previousState.values, stateValues)) {\n      this.updateDropdownBounds();\n\n      if (onChange) {\n        onChange(stateValues);\n      }\n    }\n\n    if (previousState.search !== search) {\n      this.updateDropdownBounds();\n    }\n\n    if (!isEqual2(previousState.values, stateValues) && closeOnSelect) {\n      this.setStatus(\"close\");\n    }\n\n    if (previousProps.open !== open && typeof open === \"boolean\") {\n      this.setStatus(open ? \"open\" : \"close\");\n    }\n\n    if (previousProps.multi !== multi) {\n      this.updateDropdownBounds();\n    }\n\n    if (previousState.status && !status) {\n      document.removeEventListener(\"click\", this.handleClickOutside);\n      this.setState({\n        cursor: null\n      });\n\n      if (onClose) {\n        onClose();\n      }\n    }\n\n    if (!previousState.status && status) {\n      document.addEventListener(\"click\", this.handleClickOutside);\n\n      if (onOpen) {\n        onOpen();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (!canUseDOM()) {\n      return;\n    }\n\n    window.removeEventListener(\"resize\", this.handleResize, true);\n    window.removeEventListener(\"scroll\", this.handleScroll, true);\n    document.removeEventListener(\"click\", this.handleClickOutside);\n  }\n\n  handleClickOutside = event => {\n    const {\n      current\n    } = this.dropdownRef;\n    const {\n      target\n    } = event;\n\n    if (!current || !target) {\n      return;\n    }\n\n    if (current === target || !current.contains(target)) {\n      this.setStatus(\"close\");\n    }\n  };\n  handleKeyDown = event => {\n    const {\n      cursor,\n      search,\n      searchResults,\n      status,\n      values\n    } = this.state;\n    const {\n      create\n    } = this.props;\n\n    if ([\"ArrowDown\", \"ArrowUp\"].includes(event.key)) {\n      event.stopPropagation();\n    }\n\n    switch (event.key) {\n      case \"ArrowDown\":\n        {\n          if (!status) {\n            this.setStatus(\"open\");\n            this.setState({\n              cursor: 0\n            });\n            return;\n          }\n\n          this.setState({\n            cursor: getCursor(cursor, \"down\", searchResults)\n          });\n          break;\n        }\n\n      case \"ArrowUp\":\n        {\n          this.setState({\n            cursor: getCursor(cursor, \"up\", searchResults)\n          });\n          break;\n        }\n\n      case \"Backspace\":\n        {\n          if (isNumber(cursor) && !search.length) {\n            const nextValues = values.filter(value => !isEqual2(value, searchResults[cursor]));\n\n            if (nextValues.length !== values.length) {\n              this.setState({\n                values: nextValues\n              });\n            }\n          }\n\n          break;\n        }\n\n      case \"Enter\":\n        {\n          if (isNumber(cursor)) {\n            const currentItem = searchResults[cursor];\n\n            if (currentItem && !currentItem.disabled) {\n              if (create && matchOptions(values, search, false)) {\n                return;\n              }\n\n              this.addItem(currentItem);\n            } else if (search) {\n              this.createItem(search);\n            }\n          } else if (!search) {\n            this.setStatus(\"toggle\", event);\n          }\n\n          break;\n        }\n\n      case \"Escape\":\n        {\n          this.setStatus(\"close\");\n          break;\n        }\n    }\n  };\n  handleResize = debounce(() => {\n    this.updateDropdownBounds();\n  }, 150);\n  handleScroll = debounce(() => {\n    const {\n      status\n    } = this.state;\n    const {\n      closeOnScroll\n    } = this.props;\n    this.updateDropdownBounds();\n\n    if (closeOnScroll && status) {\n      this.setStatus(\"close\");\n    }\n  }, 150);\n  setStatus = (action, event) => {\n    var _a, _b;\n\n    const {\n      search,\n      status\n    } = this.state;\n    const {\n      clearOnClose,\n      closeOnScroll,\n      closeOnSelect,\n      open,\n      options\n    } = this.props;\n    const target = event && (event.target || event.currentTarget);\n    const isMenuTarget = target && target.offsetParent && target.offsetParent.classList.contains(\"react-dropdown-menu\");\n\n    if (!closeOnScroll && !closeOnSelect && event && isMenuTarget) {\n      return;\n    }\n\n    if (typeof open === \"boolean\") {\n      this.setState({\n        status: open\n      });\n      return;\n    }\n\n    if (action === \"close\" && status) {\n      (_a = this.dropdownRef.current) == null ? void 0 : _a.blur();\n      this.setState({\n        status: false,\n        search: clearOnClose ? \"\" : search,\n        searchResults: options\n      });\n      return;\n    }\n\n    if (action === \"open\" && !status) {\n      this.setState({\n        status: true\n      });\n      return;\n    }\n\n    if (action === \"toggle\") {\n      (_b = this.dropdownRef.current) == null ? void 0 : _b.focus();\n      this.setState({\n        status: !status\n      });\n    }\n  };\n  updateDropdownBounds = () => {\n    if (this.dropdownRef.current) {\n      this.setState({\n        dropdownBounds: this.dropdownRef.current.getBoundingClientRect()\n      });\n    }\n  };\n  getInputSize = () => {\n    const {\n      placeholder,\n      secondaryPlaceholder\n    } = this.props;\n    const {\n      search,\n      values\n    } = this.state;\n\n    if (search) {\n      return search.length;\n    }\n\n    if (secondaryPlaceholder && values.length) {\n      return secondaryPlaceholder.length;\n    }\n\n    return values.length ? 3 : (placeholder == null ? void 0 : placeholder.length) || 0;\n  };\n  getLabels = () => {\n    const {\n      labels\n    } = this.props;\n    return getLabels(labels);\n  };\n  getOptionData = (input, key) => key === \"label\" ? getOptionData(input, \"label\") : getOptionData(input, \"value\");\n  getStyles = () => {\n    const {\n      styles\n    } = this.props;\n    return getStyles(styles);\n  };\n  addItem = item => {\n    const {\n      values\n    } = this.state;\n    const {\n      clearOnSelect,\n      multi\n    } = this.props;\n\n    if (multi) {\n      if (matchOptions(values, getOptionData(item, \"value\"))) {\n        this.removeItem(null, item, false);\n        return;\n      }\n\n      this.setState({\n        values: [...values, item]\n      });\n    } else {\n      this.setState({\n        values: [item]\n      });\n      this.setStatus(\"close\");\n    }\n\n    if (clearOnSelect) {\n      this.setState({\n        search: \"\"\n      });\n    }\n  };\n  removeItem = (() => {\n    var _this = this;\n\n    return function (event, item) {\n      let close = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      const {\n        values\n      } = _this.state;\n\n      if (event) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n\n      if (close) {\n        _this.setStatus(\"close\");\n      }\n\n      _this.setState({\n        values: values.filter(data => getOptionData(data, \"value\") !== getOptionData(item, \"value\"))\n      });\n    };\n  })();\n  setSearch = event => {\n    this.setState({\n      cursor: null,\n      search: event.target.value\n    }, () => {\n      this.setState({\n        searchResults: this.searchResults()\n      });\n    });\n  };\n  areAllSelected = () => {\n    const {\n      options\n    } = this.props;\n    const {\n      values\n    } = this.state;\n    return values.length === getAllOptions(options, values).length;\n  };\n  clearAll = () => {\n    const {\n      onClearAll\n    } = this.props;\n\n    if (onClearAll) {\n      onClearAll();\n    }\n\n    this.setState({\n      values: []\n    });\n  };\n  createItem = search => {\n    const {\n      onCreate,\n      options\n    } = this.props;\n    const newValue = {\n      label: search,\n      value: search\n    };\n    this.addItem(newValue);\n\n    if (onCreate) {\n      onCreate(search, () => this.setStatus(\"close\"));\n    }\n\n    this.setState({\n      search: \"\",\n      searchResults: [...options, newValue]\n    });\n  };\n  isSelected = option => {\n    const {\n      values\n    } = this.state;\n    return values.some(value => getOptionData(value, \"value\") === getOptionData(option, \"value\"));\n  };\n  selectAll = (() => {\n    var _this2 = this;\n\n    return function () {\n      let valuesList = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      const {\n        values\n      } = _this2.state;\n      const {\n        onSelectAll,\n        options\n      } = _this2.props;\n\n      if (onSelectAll) {\n        onSelectAll();\n      }\n\n      const nextValues = valuesList.length ? valuesList : getAllOptions(options, values);\n\n      _this2.setState({\n        values: nextValues\n      });\n    };\n  })();\n  toggleAll = () => {\n    const {\n      values\n    } = this.state;\n\n    if (values.length) {\n      this.clearAll();\n    } else {\n      this.selectAll();\n    }\n  };\n  safeString = input => input.replace(/[$()*+.?[\\\\\\]^{|}]/g, \"\\\\$&\");\n  searchFn = () => {\n    const {\n      search\n    } = this.state;\n    const {\n      options,\n      searchBy = \"label\"\n    } = this.props;\n    const regexp = new RegExp(this.safeString(search), \"i\");\n    return options.filter(item => regexp.test(`${this.getOptionData(item, searchBy)}`));\n  };\n  searchResults = () => {\n    const {\n      searchFn\n    } = this.props;\n\n    if (searchFn) {\n      return searchFn({\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      });\n    }\n\n    return this.searchFn();\n  };\n\n  render() {\n    const {\n      status,\n      values\n    } = this.state;\n    const {\n      className,\n      direction = \"ltr\",\n      disabled = false,\n      hiddenInput,\n      hideHandle,\n      loading,\n      showClearButton,\n      showSeparator,\n      style\n    } = this.props;\n    const classes = [SLUG, className].filter(Boolean).join(\" \");\n    return /* @__PURE__ */jsxs6(ReactDropdown, {\n      ref: this.dropdownRef,\n      \"aria-expanded\": status,\n      \"aria-label\": \"Dropdown\",\n      className: classes,\n      \"data-component-name\": \"Dropdown\",\n      direction,\n      disabled,\n      onKeyDown: this.handleKeyDown,\n      style,\n      tabIndex: disabled ? -1 : 0,\n      ...this.getStyles(),\n      children: [/* @__PURE__ */jsx15(Content, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      }), hiddenInput && /* @__PURE__ */jsx15(\"input\", {\n        defaultValue: values.map(value => {\n          const {\n            key = \"value\"\n          } = hiddenInput;\n\n          if (key === \"value\") {\n            return getOptionData(value, \"value\");\n          }\n\n          return getOptionData(value, \"label\");\n        }).join(hiddenInput.separator) || \"\",\n        disabled,\n        name: hiddenInput.name,\n        pattern: hiddenInput.pattern,\n        required: !!hiddenInput.required,\n        style: {\n          opacity: 0,\n          width: 0,\n          position: \"absolute\"\n        },\n        tabIndex: -1\n      }), showClearButton && !!values.length && /* @__PURE__ */jsx15(Clear, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      }), loading && /* @__PURE__ */jsx15(Loading_default, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      }), showSeparator && /* @__PURE__ */jsx15(Separator, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      }), !hideHandle && /* @__PURE__ */jsx15(Handle, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      }), status && !disabled && /* @__PURE__ */jsx15(Menu_default, {\n        methods: this.methods,\n        props: this.props,\n        state: this.state\n      })]\n    });\n  }\n\n};\n\n__publicField(Dropdown, \"defaultProps\", defaultProps);\n\nvar src_default = Dropdown;\nexport { Dropdown, src_default as default };","map":{"version":3,"mappings":"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","names":["Component","createRef","css","styled","isEqual","formatHex","input","color","replace","hex","length","forEach","d","getTextColor","getYiq","isValidHex","blue","green","red","hexToRGB","parseInt","String","charAt","hexToRGBA","alpha","test","innerText","canUseDOM","canUseDOMBool","isPropValid","SLUG","defaultProps","autoFocus","clearOnClose","clearOnSelect","closeOnScroll","closeOnSelect","comparatorFn","create","direction","disabled","hideHandle","keepSelectedInList","loading","menuPosition","multi","placeholder","searchable","searchBy","secondaryPlaceholder","showClearButton","showSeparator","values","styledOptions","shouldForwardProp","prop","includes","debounce","fn","delay","timerId","arguments_","clearTimeout","window","setTimeout","getAllOptions","options","nextValues","filter","option","value","some","push","getOptionData","key","isString","isNumber","getComponentMinHeight","minHeight","amount","px","getCursor","cursor","type","total","lastValidIndex","map","item","lastIndexOf","reduce","acc","index","getNextCursor","nextCursor","getLabels","labels","clear","noData","toggle","getPosition","props","list","methods","getDropdownRef","getStyles","getStylesMethod","dropdown","gap","spacing","bottom","getBoundingClientRect","height","viewportHeight","isomorphicWindow","innerHeight","totalHeight","styles","bgColor","borderColor","borderRadius","disabledItemBgColor","disabledItemColor","hoverColor","hoverOpacity","menuMaxHeight","placeholderColor","spacingX","spacingY","width","matchOptions","search","strict","label","Times","size","preserveAspectRatio","version","viewBox","xmlns","children","fill","Times_default","StyledClear","div","Clear","clearAll","clearComponent","handleClick","event","stopPropagation","jsx","className","onClick","title","useEffect","useRef","usePrevious","ref","current","StyledInput","readOnly","getPlaceholder","state","hasValues","Input","createItem","getInputSize","setSearch","inputComponent","status","previousStatus","focus","blur","handleBlur","handleKeyDown","inputRef","onBlur","onChange","onKeyDown","tabIndex","StyledOption","span","RemoveButton","button","Option","removeItem","optionComponent","role","StyledContent","StyledSingleOption","Content","setStatus","contentComponent","onClickSelector","Arrow","transform","StyledHandle","Handle","handleComponent","Spinner","jsxs","fillOpacity","StyledLoading","Loading","loaderComponent","Loading_default","useState","StyledCreate","Create","shouldRender","createLabel","classes","join","StyledMenuItem","MenuItem","itemIndex","addItem","isSelected","menuItemComponent","disabledLabel","scrollIntoView","behavior","block","inline","style","StyledNoData","NoData","noDataComponent","NoData_default","StyledMenu","dropdownBounds","isVisible","position","borderWidth","Menu","menuComponent","searchResults","listRef","setVisible","Menu_default","StyledSeparator","Separator","separatorComponent","ReactDropdown","Dropdown","dropdownRef","constructor","open","areAllSelected","getDropdownBounds","safeString","selectAll","toggleAll","componentDidMount","addEventListener","handleResize","handleScroll","updateDropdownBounds","componentDidUpdate","previousProps","previousState","stateValues","onClose","onOpen","setState","document","removeEventListener","handleClickOutside","componentWillUnmount","target","contains","currentItem","action","currentTarget","isMenuTarget","offsetParent","classList","close","preventDefault","data","onClearAll","onCreate","newValue","valuesList","onSelectAll","searchFn","regexp","RegExp","render","hiddenInput","Boolean","defaultValue","separator","name","pattern","required","opacity","__publicField","src_default"],"sources":["/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/index.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/modules/colors.ts","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/modules/helpers.ts","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/config.ts","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/components/Clear.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/icons/Times.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/components/Content.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/components/Input.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/modules/hooks.ts","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/components/Option.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/components/Handle.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/icons/Arrow.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/components/Loading.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/icons/Spinner.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/components/Menu.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/components/Create.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/components/MenuItem.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/components/NoData.tsx","/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/react-dropdown/src/components/Separator.tsx"],"sourcesContent":["import { ChangeEvent, Component, createRef, KeyboardEvent, MouseEvent, RefObject } from 'react';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\nimport isEqual from '@gilbarbara/deep-equal';\n\nimport { hexToRGBA } from '~/modules/colors';\nimport {\n  canUseDOM,\n  debounce,\n  getAllOptions,\n  getCursor,\n  getLabels,\n  getOptionData,\n  getStyles,\n  isNumber,\n  matchOptions,\n  px,\n} from '~/modules/helpers';\n\nimport { defaultProps, SLUG, styledOptions } from '~/config';\n\nimport Clear from '~/components/Clear';\nimport Content from '~/components/Content';\nimport Handle from '~/components/Handle';\nimport Loading from '~/components/Loading';\nimport Menu from '~/components/Menu';\nimport Separator from '~/components/Separator';\n\nimport { Actions, Methods, Option, OptionKeys, Props, State, Styles } from '~/types';\n\nconst ReactDropdown = styled(\n  'div',\n  styledOptions,\n)<Styles & Required<Pick<Props, 'direction' | 'disabled'>>>(props => {\n  const { bgColor, borderColor, borderRadius, color, direction, disabled, minHeight, width } =\n    props;\n\n  return css`\n    align-items: start;\n    background-color: ${bgColor};\n    border-radius: ${borderRadius};\n    border: 1px solid ${borderColor};\n    box-sizing: border-box;\n    cursor: pointer;\n    direction: ${direction};\n    display: flex;\n    flex-direction: row;\n    min-height: ${px(minHeight)};\n    position: relative;\n    width: ${width};\n    ${disabled\n      ? `\n      cursor: not-allowed;\n      opacity: 0.6;\n      pointer-events: none;\n      `\n      : `\n      pointer-events: all;\n      `};\n\n    :hover,\n    :focus-within {\n      border-color: ${color};\n    }\n\n    :focus,\n    :focus-within {\n      outline: 0;\n      box-shadow: 0 0 0 3px ${hexToRGBA(color, 0.2)};\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n  `;\n});\n\nexport class Dropdown extends Component<Props, State> {\n  private readonly dropdownRef: RefObject<HTMLDivElement>;\n  private readonly methods: Methods;\n\n  static defaultProps = defaultProps;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      cursor: null,\n      dropdownBounds: {},\n      search: '',\n      searchResults: props.options,\n      status: props.open || false,\n      values: props.values || [],\n    };\n\n    this.methods = {\n      addItem: this.addItem,\n      areAllSelected: this.areAllSelected,\n      clearAll: this.clearAll,\n      createItem: this.createItem,\n      // eslint-disable-next-line react/destructuring-assignment\n      getDropdownBounds: () => this.state.dropdownBounds,\n      getDropdownRef: () => this.dropdownRef.current,\n      getInputSize: this.getInputSize,\n      getLabels: this.getLabels,\n      getOptionData: this.getOptionData,\n      getStyles: this.getStyles,\n      handleKeyDown: this.handleKeyDown,\n      isSelected: this.isSelected,\n      removeItem: this.removeItem,\n      safeString: this.safeString,\n      searchResults: this.searchResults,\n      selectAll: this.selectAll,\n      setSearch: this.setSearch,\n      setStatus: this.setStatus,\n      toggleAll: this.toggleAll,\n    };\n\n    this.dropdownRef = createRef();\n  }\n\n  componentDidMount() {\n    if (!canUseDOM()) {\n      return;\n    }\n\n    window.addEventListener('resize', this.handleResize, true);\n    window.addEventListener('scroll', this.handleScroll, true);\n\n    if (this.dropdownRef) {\n      this.updateDropdownBounds();\n    }\n  }\n\n  componentDidUpdate(previousProps: Props, previousState: State) {\n    const { search, status, values: stateValues } = this.state;\n    const {\n      closeOnSelect,\n      comparatorFn = defaultProps.comparatorFn,\n      multi,\n      onChange,\n      onClose,\n      onOpen,\n      open,\n      options,\n      values = [],\n    } = this.props;\n\n    if (\n      !comparatorFn(previousProps.values || [], values) &&\n      comparatorFn(previousProps.values || [], previousState.values)\n    ) {\n      this.setState({ values });\n      this.updateDropdownBounds();\n    }\n\n    if (!comparatorFn(previousProps.options, options)) {\n      this.setState({ searchResults: this.searchResults() });\n    }\n\n    if (!comparatorFn(previousState.values, stateValues)) {\n      this.updateDropdownBounds();\n\n      if (onChange) {\n        onChange(stateValues);\n      }\n    }\n\n    if (previousState.search !== search) {\n      this.updateDropdownBounds();\n    }\n\n    if (!isEqual(previousState.values, stateValues) && closeOnSelect) {\n      this.setStatus('close');\n    }\n\n    if (previousProps.open !== open && typeof open === 'boolean') {\n      this.setStatus(open ? 'open' : 'close');\n    }\n\n    if (previousProps.multi !== multi) {\n      this.updateDropdownBounds();\n    }\n\n    if (previousState.status && !status) {\n      document.removeEventListener('click', this.handleClickOutside);\n\n      this.setState({ cursor: null });\n\n      if (onClose) {\n        onClose();\n      }\n    }\n\n    if (!previousState.status && status) {\n      document.addEventListener('click', this.handleClickOutside);\n\n      if (onOpen) {\n        onOpen();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (!canUseDOM()) {\n      return;\n    }\n\n    window.removeEventListener('resize', this.handleResize, true);\n    window.removeEventListener('scroll', this.handleScroll, true);\n    document.removeEventListener('click', this.handleClickOutside);\n  }\n\n  handleClickOutside = (event: Event) => {\n    const { current } = this.dropdownRef;\n    const { target } = event;\n\n    if (!current || !target) {\n      return;\n    }\n\n    if (current === target || !current.contains(target as Node)) {\n      this.setStatus('close');\n    }\n  };\n\n  handleKeyDown = (event: KeyboardEvent<HTMLInputElement>) => {\n    const { cursor, search, searchResults, status, values } = this.state;\n    const { create } = this.props;\n\n    if (['ArrowDown', 'ArrowUp'].includes(event.key)) {\n      event.stopPropagation();\n    }\n\n    switch (event.key) {\n      case 'ArrowDown': {\n        if (!status) {\n          this.setStatus('open');\n          this.setState({\n            cursor: 0,\n          });\n\n          return;\n        }\n\n        this.setState({\n          cursor: getCursor(cursor, 'down', searchResults),\n        });\n\n        break;\n      }\n      case 'ArrowUp': {\n        this.setState({\n          cursor: getCursor(cursor, 'up', searchResults),\n        });\n\n        break;\n      }\n      case 'Backspace': {\n        if (isNumber(cursor) && !search.length) {\n          const nextValues = values.filter(value => !isEqual(value, searchResults[cursor]));\n\n          if (nextValues.length !== values.length) {\n            this.setState({\n              values: nextValues,\n            });\n          }\n        }\n\n        break;\n      }\n      case 'Enter': {\n        if (isNumber(cursor)) {\n          const currentItem = searchResults[cursor];\n\n          if (currentItem && !currentItem.disabled) {\n            if (create && matchOptions(values, search, false)) {\n              return;\n            }\n\n            this.addItem(currentItem);\n          } else if (search) {\n            this.createItem(search);\n          }\n        } else if (!search) {\n          this.setStatus('toggle', event);\n        }\n\n        break;\n      }\n      case 'Escape': {\n        this.setStatus('close');\n        break;\n      }\n    }\n  };\n\n  handleResize = debounce(() => {\n    this.updateDropdownBounds();\n  }, 150);\n\n  handleScroll = debounce(() => {\n    const { status } = this.state;\n    const { closeOnScroll } = this.props;\n\n    this.updateDropdownBounds();\n\n    if (closeOnScroll && status) {\n      this.setStatus('close');\n    }\n  }, 150);\n\n  setStatus = (\n    action: Actions,\n    event?: Event | MouseEvent<HTMLElement> | KeyboardEvent<HTMLDivElement>,\n  ) => {\n    const { search, status } = this.state;\n    const { clearOnClose, closeOnScroll, closeOnSelect, open, options } = this.props;\n    const target = event && ((event.target || event.currentTarget) as HTMLElement);\n    const isMenuTarget =\n      target &&\n      target.offsetParent &&\n      target.offsetParent.classList.contains('react-dropdown-menu');\n\n    if (!closeOnScroll && !closeOnSelect && event && isMenuTarget) {\n      return;\n    }\n\n    if (typeof open === 'boolean') {\n      this.setState({ status: open });\n\n      return;\n    }\n\n    if (action === 'close' && status) {\n      this.dropdownRef.current?.blur();\n\n      this.setState({\n        status: false,\n        search: clearOnClose ? '' : search,\n        searchResults: options,\n      });\n\n      return;\n    }\n\n    if (action === 'open' && !status) {\n      this.setState({ status: true });\n\n      return;\n    }\n\n    if (action === 'toggle') {\n      this.dropdownRef.current?.focus();\n\n      this.setState({ status: !status });\n    }\n  };\n\n  updateDropdownBounds = () => {\n    if (this.dropdownRef.current) {\n      this.setState({\n        dropdownBounds: this.dropdownRef.current.getBoundingClientRect(),\n      });\n    }\n  };\n\n  getInputSize = () => {\n    const { placeholder, secondaryPlaceholder } = this.props;\n    const { search, values } = this.state;\n\n    if (search) {\n      return search.length;\n    }\n\n    if (secondaryPlaceholder && values.length) {\n      return secondaryPlaceholder.length;\n    }\n\n    return values.length ? 3 : placeholder?.length || 0;\n  };\n\n  getLabels = () => {\n    const { labels } = this.props;\n\n    return getLabels(labels);\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  getOptionData = (input: Option, key: OptionKeys) =>\n    key === 'label' ? getOptionData(input, 'label') : getOptionData(input, 'value');\n\n  getStyles = () => {\n    const { styles } = this.props;\n\n    return getStyles(styles);\n  };\n\n  addItem = (item: Option) => {\n    const { values } = this.state;\n    const { clearOnSelect, multi } = this.props;\n\n    if (multi) {\n      if (matchOptions(values, getOptionData(item, 'value'))) {\n        this.removeItem(null, item, false);\n\n        return;\n      }\n\n      this.setState({\n        values: [...values, item],\n      });\n    } else {\n      this.setState({\n        values: [item],\n      });\n\n      this.setStatus('close');\n    }\n\n    if (clearOnSelect) {\n      this.setState({ search: '' });\n    }\n  };\n\n  removeItem = (event: MouseEvent<HTMLElement> | null, item: Option, close = false) => {\n    const { values } = this.state;\n\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    if (close) {\n      this.setStatus('close');\n    }\n\n    this.setState({\n      values: values.filter(data => getOptionData(data, 'value') !== getOptionData(item, 'value')),\n    });\n  };\n\n  setSearch = (event: ChangeEvent<HTMLInputElement>) => {\n    this.setState(\n      {\n        cursor: null,\n        search: (event.target as HTMLInputElement).value,\n      },\n      () => {\n        this.setState({ searchResults: this.searchResults() });\n      },\n    );\n  };\n\n  areAllSelected = () => {\n    const { options } = this.props;\n    const { values } = this.state;\n\n    return values.length === getAllOptions(options, values).length;\n  };\n\n  clearAll = () => {\n    const { onClearAll } = this.props;\n\n    if (onClearAll) {\n      onClearAll();\n    }\n\n    this.setState({\n      values: [],\n    });\n  };\n\n  createItem = (search: string) => {\n    const { onCreate, options } = this.props;\n    const newValue = {\n      label: search,\n      value: search,\n    };\n\n    this.addItem(newValue);\n\n    if (onCreate) {\n      onCreate(search, () => this.setStatus('close'));\n    }\n\n    this.setState({ search: '', searchResults: [...options, newValue] });\n  };\n\n  isSelected = (option: Option) => {\n    const { values } = this.state;\n\n    return values.some(value => getOptionData(value, 'value') === getOptionData(option, 'value'));\n  };\n\n  selectAll = (valuesList: Option[] = []) => {\n    const { values } = this.state;\n    const { onSelectAll, options } = this.props;\n\n    if (onSelectAll) {\n      onSelectAll();\n    }\n\n    const nextValues = valuesList.length ? valuesList : getAllOptions(options, values);\n\n    this.setState({ values: nextValues });\n  };\n\n  toggleAll = () => {\n    const { values } = this.state;\n\n    if (values.length) {\n      this.clearAll();\n    } else {\n      this.selectAll();\n    }\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  safeString = (input: string) => input.replace(/[$()*+.?[\\\\\\]^{|}]/g, '\\\\$&');\n\n  searchFn = () => {\n    const { search } = this.state;\n    const { options, searchBy = 'label' } = this.props;\n    const regexp = new RegExp(this.safeString(search), 'i');\n\n    return options.filter(item => regexp.test(`${this.getOptionData(item, searchBy)}`));\n  };\n\n  searchResults = () => {\n    const { searchFn } = this.props;\n\n    if (searchFn) {\n      return searchFn({ methods: this.methods, props: this.props, state: this.state });\n    }\n\n    return this.searchFn();\n  };\n\n  render() {\n    const { status, values } = this.state;\n    const {\n      className,\n      direction = 'ltr',\n      disabled = false,\n      hiddenInput,\n      hideHandle,\n      loading,\n      showClearButton,\n      showSeparator,\n      style,\n    } = this.props;\n\n    const classes = [SLUG, className].filter(Boolean).join(' ');\n\n    return (\n      <ReactDropdown\n        ref={this.dropdownRef}\n        aria-expanded={status}\n        aria-label=\"Dropdown\"\n        className={classes}\n        data-component-name=\"Dropdown\"\n        direction={direction}\n        disabled={disabled}\n        onKeyDown={this.handleKeyDown}\n        style={style}\n        tabIndex={disabled ? -1 : 0}\n        {...this.getStyles()}\n      >\n        <Content methods={this.methods} props={this.props} state={this.state} />\n\n        {hiddenInput && (\n          <input\n            defaultValue={\n              values\n                .map(value => {\n                  const { key = 'value' } = hiddenInput;\n\n                  if (key === 'value') {\n                    return getOptionData(value, 'value');\n                  }\n\n                  return getOptionData(value, 'label');\n                })\n                .join(hiddenInput.separator) || ''\n            }\n            disabled={disabled}\n            name={hiddenInput.name}\n            pattern={hiddenInput.pattern}\n            required={!!hiddenInput.required}\n            style={{ opacity: 0, width: 0, position: 'absolute' }}\n            tabIndex={-1}\n          />\n        )}\n\n        {showClearButton && !!values.length && (\n          <Clear methods={this.methods} props={this.props} state={this.state} />\n        )}\n\n        {loading && <Loading methods={this.methods} props={this.props} state={this.state} />}\n\n        {showSeparator && (\n          <Separator methods={this.methods} props={this.props} state={this.state} />\n        )}\n\n        {!hideHandle && <Handle methods={this.methods} props={this.props} state={this.state} />}\n\n        {status && !disabled && (\n          <Menu methods={this.methods} props={this.props} state={this.state} />\n        )}\n      </ReactDropdown>\n    );\n  }\n}\n\nexport default Dropdown;\n\nexport * from '~/types';\n","export function formatHex(input: string) {\n  const color = input.replace('#', '');\n  let hex = color;\n\n  if (color.length === 3 || color.length === 4) {\n    hex = '';\n\n    [...color].forEach(d => {\n      hex += `${d}${d}`;\n    });\n  }\n\n  hex = `#${hex}`;\n\n  return hex;\n}\n\nexport function getTextColor(input: string) {\n  return getYiq(input) > 135 ? '#000' : '#fff';\n}\n\nexport function getYiq(color: string) {\n  if (!isValidHex(color)) {\n    return 0;\n  }\n\n  const { blue, green, red } = hexToRGB(color);\n\n  return (red * 299 + green * 587 + blue * 114) / 1000;\n}\n\nexport function hexToRGB(input: string) {\n  if (!isValidHex(input)) {\n    return {\n      red: 0,\n      green: 0,\n      blue: 0,\n    };\n  }\n\n  const hex = formatHex(input).replace('#', '');\n\n  return {\n    red: parseInt(String(hex.charAt(0)) + hex.charAt(1), 16),\n    green: parseInt(String(hex.charAt(2)) + hex.charAt(3), 16),\n    blue: parseInt(String(hex.charAt(4)) + hex.charAt(5), 16),\n  };\n}\n\nexport function hexToRGBA(input: string, alpha?: number) {\n  const { blue, green, red } = hexToRGB(input);\n\n  return `rgba(${red}, ${green}, ${blue}${alpha ? `, ${alpha}` : ''})`;\n}\n\nexport function isValidHex(input: string) {\n  return /^#([\\dA-Fa-f]{6}|[\\dA-Fa-f]{3})$/.test(input);\n}\n","import innerText from 'react-innertext';\nimport { canUseDOM as canUseDOMBool } from 'exenv';\n\nimport { defaultProps } from '~/config';\n\nimport { ComponentProps, Labels, Option, OptionKeys, Position, Styles } from '~/types';\n\nexport const canUseDOM = () => canUseDOMBool;\n\nexport function debounce(fn: (...input: any[]) => void, delay = 0) {\n  let timerId: number;\n\n  return (...arguments_: any[]) => {\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n\n    timerId = window.setTimeout(() => {\n      fn(...arguments_);\n      timerId = 0;\n    }, delay);\n  };\n}\n\nexport function getAllOptions(options: Option[], values: Option[]) {\n  const nextValues = options.filter(option => !option.disabled);\n\n  if (values.length) {\n    values.forEach(value => {\n      if (!nextValues.some(option => option.value === value.value)) {\n        nextValues.push(value);\n      }\n    });\n  }\n\n  return nextValues;\n}\n\nexport function getOptionData(input: Option, key: 'label'): string;\nexport function getOptionData(input: Option, key: 'value'): string | number;\n\nexport function getOptionData(input: Option, key: OptionKeys): string | number {\n  const value = input[key];\n\n  if (!isString(value) && !isNumber(value)) {\n    return innerText(value);\n  }\n\n  return value;\n}\n\nexport function getComponentMinHeight(minHeight: number, amount = 2): string {\n  return px(minHeight - amount);\n}\n\nexport function getCursor(cursor: number | null, type: 'down' | 'up', values: Option[] = []) {\n  const total = values.length;\n  const lastValidIndex = values.map(item => !!item.disabled).lastIndexOf(false);\n  const disabled = values.reduce<number[]>((acc, value, index) => {\n    if (value.disabled) {\n      acc.push(index);\n    }\n\n    return acc;\n  }, []);\n\n  const getNextCursor = (nextCursor: number): number => {\n    if (type === 'down') {\n      if (nextCursor === total) {\n        return 0;\n      }\n\n      if (disabled.includes(nextCursor)) {\n        return getNextCursor(nextCursor + 1);\n      }\n    } else if (type === 'up') {\n      if (nextCursor < 0) {\n        return lastValidIndex;\n      }\n\n      if (disabled.includes(nextCursor)) {\n        return getNextCursor(nextCursor - 1);\n      }\n    }\n\n    return nextCursor;\n  };\n\n  if (cursor === null) {\n    return type === 'down' ? 0 : lastValidIndex;\n  } else if (type === 'down') {\n    return getNextCursor(cursor + 1);\n  } else if (type === 'up') {\n    return getNextCursor(cursor - 1);\n  }\n\n  return cursor;\n}\n\nexport function getLabels(labels?: Partial<Labels>): Labels {\n  const {\n    clear = 'Clear',\n    create = 'Add {search}',\n    disabled = 'disabled',\n    noData = 'No data',\n    toggle = 'Toggle',\n  } = labels || {};\n\n  return {\n    clear,\n    create,\n    disabled,\n    noData,\n    toggle,\n  };\n}\n\nexport function getPosition(props: ComponentProps, list: HTMLDivElement | null): Position {\n  const {\n    methods: { getDropdownRef, getStyles: getStylesMethod },\n    props: { menuPosition = defaultProps.menuPosition },\n  } = props;\n\n  const dropdown = getDropdownRef();\n  const { gap } = getStylesMethod();\n  const spacing = 16;\n\n  if (menuPosition !== 'auto' || !list || !dropdown) {\n    return menuPosition;\n  }\n\n  const { bottom } = dropdown.getBoundingClientRect();\n  const { height } = list.getBoundingClientRect();\n  const viewportHeight = isomorphicWindow().innerHeight;\n\n  const totalHeight = bottom + height + gap + spacing;\n\n  if (totalHeight > viewportHeight) {\n    return 'top';\n  }\n\n  return 'bottom';\n}\n\nexport function getStyles(styles?: Partial<Styles>): Styles {\n  const {\n    bgColor = '#fff',\n    borderColor = '#ccc',\n    borderRadius = '4px',\n    color = '#1E90FF',\n    disabledItemBgColor = '#f2f2f2',\n    disabledItemColor = '#999',\n    gap = 2,\n    hoverColor,\n    hoverOpacity = 0.2,\n    menuMaxHeight = 300,\n    minHeight = 36,\n    placeholderColor = '#999',\n    spacingX = 12,\n    spacingY = 8,\n    width = '100%',\n  } = styles || {};\n\n  return {\n    bgColor,\n    borderColor,\n    borderRadius: px(borderRadius),\n    color,\n    disabledItemBgColor,\n    disabledItemColor,\n    gap,\n    hoverColor: hoverColor || color,\n    hoverOpacity,\n    menuMaxHeight,\n    minHeight,\n    placeholderColor,\n    spacingX: px(spacingX),\n    spacingY: px(spacingY),\n    width: px(width),\n  };\n}\n\nexport function isomorphicWindow() {\n  if (typeof window === 'undefined') {\n    return {\n      innerHeight: 0,\n    };\n  }\n\n  return window;\n}\n\nexport function isNumber(input: any): input is number {\n  return typeof input === 'number';\n}\n\nexport function isString(input: any): input is string {\n  return typeof input === 'string';\n}\n\nexport function parseNumber(input: string | number) {\n  if (isString(input)) {\n    return parseInt(input, 10);\n  }\n\n  return input;\n}\n\nexport function px(input: string | number): string {\n  return isString(input) ? input : `${input}px`;\n}\n\nexport function matchOptions(options: Option[], search: string | number, strict = true) {\n  return options.some(d => {\n    const label = strict\n      ? getOptionData(d, 'label') === search\n      : getOptionData(d, 'label').includes(String(search));\n    const value = strict\n      ? getOptionData(d, 'value') === search\n      : String(getOptionData(d, 'value')).includes(String(search));\n\n    return label || value;\n  });\n}\n","import isPropValid from '@emotion/is-prop-valid';\nimport isEqual from '@gilbarbara/deep-equal';\nimport { SetRequired } from 'type-fest';\n\nimport { Props } from '~/types';\n\nexport const SLUG = 'react-dropdown';\n\nexport const defaultProps: SetRequired<\n  Omit<Props, 'options'>,\n  'closeOnSelect' | 'comparatorFn' | 'direction' | 'menuPosition' | 'values'\n> = {\n  autoFocus: true,\n  clearOnClose: true,\n  clearOnSelect: true,\n  closeOnScroll: false,\n  closeOnSelect: false,\n  comparatorFn: isEqual,\n  create: false,\n  direction: 'ltr' as const,\n  disabled: false,\n  hideHandle: false,\n  keepSelectedInList: true,\n  loading: false,\n  menuPosition: 'bottom' as const,\n  multi: false,\n  placeholder: 'Select...',\n  searchable: true,\n  searchBy: 'label',\n  secondaryPlaceholder: '',\n  showClearButton: false,\n  showSeparator: false,\n  values: [],\n};\n\nexport const styledOptions = {\n  shouldForwardProp: (prop: string) =>\n    isPropValid(prop) &&\n    ![\n      'color',\n      'direction',\n      'onClearAll',\n      'onCreate',\n      'onClose',\n      'onOpen',\n      'onSelectAll',\n      'spacing',\n      'width',\n    ].includes(prop),\n};\n","import { MouseEvent } from 'react';\nimport styled from '@emotion/styled';\n\nimport { getTextColor } from '~/modules/colors';\nimport { getComponentMinHeight } from '~/modules/helpers';\n\nimport { SLUG } from '~/config';\n\nimport Times from '~/icons/Times';\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledClear = styled.div<Styles>`\n  align-items: center;\n  color: ${({ bgColor }) => getTextColor(bgColor)};\n  display: inline-flex;\n  justify-content: center;\n  min-height: ${({ minHeight }) => getComponentMinHeight(minHeight)};\n  width: 24px;\n\n  :focus {\n    outline: none;\n  }\n\n  :hover {\n    fill: ${({ hoverColor }) => hoverColor};\n  }\n`;\n\nexport default function Clear(props: ComponentProps) {\n  const {\n    methods: { clearAll, getLabels, getStyles },\n    props: { clearComponent },\n  } = props;\n  const { clear } = getLabels();\n\n  if (clearComponent) {\n    return clearComponent(props);\n  }\n\n  const handleClick = (event: MouseEvent<HTMLDivElement>) => {\n    event.stopPropagation();\n    clearAll();\n  };\n\n  return (\n    <StyledClear\n      aria-label={clear}\n      className={`${SLUG}-clear`}\n      data-component-name=\"DropdownClear\"\n      onClick={handleClick}\n      title={clear}\n      {...getStyles()}\n    >\n      <Times />\n    </StyledClear>\n  );\n}\n","import { px } from '~/modules/helpers';\n\nfunction Times({ size = 8 }: { size?: number }): JSX.Element {\n  return (\n    <svg\n      height={px(size)}\n      preserveAspectRatio=\"xMidYMid\"\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={px(size)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g>\n        <path\n          d=\"M0.313174194,0.313176288 C0.730750479,-0.104392096 1.40776019,-0.104392096 1.82533647,0.313176288 L7.99996524,6.48786773 L14.174701,0.313176288 C14.5922452,-0.104392096 15.2692976,-0.104392096 15.6868418,0.313176288 C16.1043861,0.730755364 16.1043861,1.4077696 15.6868418,1.82534867 L9.51210613,8.00001873 L15.6867349,14.1746887 C16.1042791,14.5922357 16.1042791,15.2692928 15.6867349,15.6868398 C15.2691907,16.1043867 14.5921382,16.1043867 14.174594,15.6868398 L7.99996524,9.51216972 L1.82538994,15.6868398 C1.40782434,16.1043867 0.730814635,16.1043867 0.313238349,15.6868398 C-0.104327243,15.2692928 -0.104327243,14.5922357 0.313238349,14.1746887 L6.48782435,8.00001873 L0.313174194,1.82534867 C-0.104391398,1.4077696 -0.104391398,0.730755364 0.313174194,0.313176288 Z\"\n          fill=\"currentColor\"\n        />\n      </g>\n    </svg>\n  );\n}\n\nexport default Times;\n","import { MouseEvent } from 'react';\nimport styled from '@emotion/styled';\n\nimport { getTextColor } from '~/modules/colors';\nimport { getComponentMinHeight, getOptionData } from '~/modules/helpers';\n\nimport { SLUG } from '~/config';\n\nimport { ComponentProps, Styles } from '~/types';\n\nimport Input from './Input';\nimport Option from './Option';\n\nconst StyledContent = styled.div<Styles>`\n  display: flex;\n  flex: 1;\n  flex-wrap: wrap;\n  min-height: ${({ minHeight }) => getComponentMinHeight(minHeight)};\n  padding: 2px ${({ spacingX }) => spacingX};\n\n  > span + input {\n    margin-left: 6px;\n  }\n`;\n\nconst StyledSingleOption = styled.span<Styles>`\n  align-items: center;\n  align-self: stretch;\n  box-sizing: border-box;\n  color: ${({ bgColor }) => getTextColor(bgColor)};\n  display: inline-flex;\n  justify-content: center;\n`;\n\nexport default function Content(props: ComponentProps) {\n  const {\n    methods: { getStyles, setStatus },\n    props: { contentComponent, multi, onClickSelector, searchable },\n    state: { status, values },\n  } = props;\n\n  const handleClick = (event: MouseEvent<HTMLElement>) => {\n    setStatus('toggle', event);\n\n    if (onClickSelector) {\n      onClickSelector(status);\n    }\n  };\n\n  return (\n    <StyledContent\n      className={`${SLUG}-content ${multi ? `${SLUG}-type-multi` : `${SLUG}-type-single`}`}\n      onClick={handleClick}\n      {...getStyles()}\n    >\n      {contentComponent ? (\n        contentComponent(props)\n      ) : (\n        <>\n          {multi\n            ? values.map(item => (\n                <Option\n                  key={`${getOptionData(item, 'label')}${getOptionData(item, 'value')}`}\n                  item={item}\n                  {...props}\n                />\n              ))\n            : !!values.length && (\n                <StyledSingleOption data-component-name=\"DropdownSingleOption\" {...getStyles()}>\n                  {getOptionData(values[0], 'label')}\n                </StyledSingleOption>\n              )}\n          {(!values.length || searchable) && <Input {...props} />}\n        </>\n      )}\n    </StyledContent>\n  );\n}\n","import { FocusEvent, KeyboardEvent, useEffect, useRef } from 'react';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport { getTextColor } from '~/modules/colors';\nimport { matchOptions } from '~/modules/helpers';\nimport { usePrevious } from '~/modules/hooks';\n\nimport { SLUG } from '~/config';\n\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledInput = styled.input<Styles>(props => {\n  const { bgColor, placeholderColor, readOnly, size } = props;\n\n  return css`\n    background-color: transparent;\n    border: none;\n    color: ${getTextColor(bgColor)};\n    ${readOnly && 'cursor: pointer;'}\n    font-size: inherit;\n    line-height: inherit;\n    padding: 0;\n    width: ${`${size}ch`};\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ${placeholderColor};\n    }\n  `;\n});\n\nfunction getPlaceholder({ props, state }: ComponentProps) {\n  const { placeholder, searchable, secondaryPlaceholder } = props;\n  const hasValues = state.values && state.values.length > 0;\n\n  if (hasValues && secondaryPlaceholder && searchable) {\n    return secondaryPlaceholder;\n  }\n\n  if (!hasValues) {\n    return placeholder;\n  } else if (!searchable) {\n    return '';\n  }\n\n  return '';\n}\n\nexport default function Input(props: ComponentProps) {\n  const {\n    methods: { createItem, getInputSize, getStyles, setSearch },\n    props: { autoFocus, create, disabled, inputComponent, options, searchable },\n    state: { cursor, search, status, values },\n  } = props;\n  const ref = useRef<HTMLInputElement>(null);\n  const previousStatus = usePrevious(status);\n\n  useEffect(() => {\n    if (previousStatus !== status && status && autoFocus) {\n      ref.current?.focus();\n    }\n\n    if (previousStatus !== status && !status) {\n      ref.current?.blur();\n    }\n  }, [autoFocus, status, previousStatus]);\n\n  const handleBlur = (event: FocusEvent<HTMLInputElement>) => {\n    event.stopPropagation();\n\n    if (!status) {\n      ref.current?.blur();\n\n      return;\n    }\n\n    ref.current?.focus();\n  };\n\n  const handleKeyDown = (event: KeyboardEvent) => {\n    if (\n      create &&\n      event.key === 'Enter' &&\n      !matchOptions([...values, ...options], search, false) &&\n      search &&\n      cursor === null\n    ) {\n      createItem(search);\n    }\n  };\n\n  if (inputComponent) {\n    return inputComponent({ ...props, inputRef: ref });\n  }\n\n  return (\n    <StyledInput\n      ref={ref}\n      className={`${SLUG}-input`}\n      data-component-name=\"DropdownInput\"\n      disabled={disabled}\n      onBlur={handleBlur}\n      onChange={setSearch}\n      onKeyDown={handleKeyDown}\n      placeholder={getPlaceholder(props)}\n      readOnly={!searchable}\n      size={getInputSize()}\n      tabIndex={-1}\n      value={search}\n      {...getStyles()}\n    />\n  );\n}\n","import { useEffect, useRef } from 'react';\n\nexport function usePrevious<T>(value: T): T {\n  const ref: any = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n","import { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport { getTextColor } from '~/modules/colors';\nimport { getOptionData, getStyles } from '~/modules/helpers';\n\nimport { defaultProps, SLUG } from '~/config';\n\nimport Times from '~/icons/Times';\nimport { Direction, OptionComponentProps, Styles } from '~/types';\n\nconst StyledOption = styled.span<Styles & { direction: Direction }>(props => {\n  const { color, direction } = props;\n\n  return css`\n    align-items: center;\n    background-color: ${color};\n    border-radius: 2px;\n    color: ${getTextColor(color)};\n    display: flex;\n    flex-direction: ${direction === 'rtl' ? 'row-reverse' : 'row'};\n    line-height: 1;\n    margin: 3px 6px 3px 0;\n    padding: 4px;\n\n    :hover,\n    :hover > span {\n      opacity: 0.9;\n    }\n  `;\n});\n\nconst RemoveButton = styled.button<Styles>`\n  align-items: center;\n  appearance: none;\n  background-color: transparent;\n  border: none;\n  color: ${({ color }) => getTextColor(color)};\n  cursor: pointer;\n  display: inline-flex;\n  height: 16px;\n  justify-content: center;\n  margin-left: 4px;\n  padding: 0;\n  width: 16px;\n`;\n\nexport default function Option(props: OptionComponentProps) {\n  const {\n    item,\n    methods: { removeItem },\n    props: {\n      closeOnSelect = defaultProps.closeOnSelect,\n      direction = defaultProps.direction,\n      optionComponent,\n      styles,\n    },\n  } = props;\n\n  if (optionComponent) {\n    return optionComponent(props);\n  }\n\n  return (\n    <StyledOption\n      className={`${SLUG}-option`}\n      data-component-name=\"DropdownOption\"\n      direction={direction}\n      role=\"listitem\"\n      {...getStyles(styles)}\n    >\n      <span className={`${SLUG}-option-label`}>{getOptionData(item, 'label')}</span>\n      <RemoveButton\n        className={`${SLUG}-option-remove`}\n        data-component-name=\"DropdownOptionRemove\"\n        onClick={event => removeItem(event, item, closeOnSelect)}\n        role=\"presentation\"\n        {...getStyles(styles)}\n      >\n        <Times />\n      </RemoveButton>\n    </StyledOption>\n  );\n}\n","import { MouseEvent } from 'react';\nimport isPropValid from '@emotion/is-prop-valid';\nimport styled from '@emotion/styled';\n\nimport { getTextColor } from '~/modules/colors';\nimport { getComponentMinHeight } from '~/modules/helpers';\n\nimport { SLUG } from '~/config';\n\nimport Arrow from '~/icons/Arrow';\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledHandle = styled('div', {\n  shouldForwardProp: prop => isPropValid(prop) && prop !== 'rotate',\n})<Styles & { status: boolean }>`\n  align-self: stretch;\n  align-items: start;\n  color: ${({ bgColor }) => getTextColor(bgColor)};\n  cursor: pointer;\n  display: flex;\n\n  :hover {\n    path {\n      fill: ${({ hoverColor }) => hoverColor};\n    }\n  }\n\n  :focus {\n    outline: none;\n\n    path {\n      fill: ${({ hoverColor }) => hoverColor};\n    }\n  }\n\n  > div {\n    align-items: center;\n    display: inline-flex;\n    height: ${({ minHeight }) => getComponentMinHeight(minHeight)};\n    justify-content: center;\n    min-width: 30px;\n    transition: transform 0.2s ease-in-out;\n    transform: rotate(${({ status }) => (status ? 180 : 0)}deg);\n  }\n`;\n\nexport default function Handle(props: ComponentProps) {\n  const {\n    methods: { getDropdownRef, getLabels, getStyles, setStatus },\n    props: { handleComponent, onClickSelector },\n    state: { status },\n  } = props;\n  const { toggle } = getLabels();\n\n  const handleClick = (event: MouseEvent<HTMLDivElement>) => {\n    getDropdownRef()?.focus();\n    setStatus('toggle', event);\n\n    if (onClickSelector) {\n      onClickSelector(status);\n    }\n  };\n\n  return (\n    <StyledHandle\n      aria-label={toggle}\n      className={`${SLUG}-handle`}\n      data-component-name=\"DropdownHandle\"\n      onClick={handleClick}\n      status={status}\n      tabIndex={0}\n      title={toggle}\n      {...getStyles()}\n    >\n      <div>{handleComponent ? handleComponent(props) : <Arrow />}</div>\n    </StyledHandle>\n  );\n}\n","import { px } from '~/modules/helpers';\n\nexport default function Arrow({ size = 12 }: { size?: number }): JSX.Element {\n  return (\n    <svg\n      height={px(size)}\n      preserveAspectRatio=\"xMidYMid\"\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={px(size)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g transform=\"translate(0.0 3.5)\">\n        <path\n          d=\"M14.6367713,0 C14.7802691,0 14.9237668,0.0461538462 15.0672646,0.138461538 L15.8565022,0.969230769 C15.9521674,1.06153846 16,1.17692308 16,1.31538462 C16,1.45384615 15.9521674,1.56923077 15.8565022,1.66153846 L8.39461883,8.86153846 C8.29895366,8.95384615 8.1793722,9 8.03587444,9 C7.89237668,9 7.74887892,8.95384615 7.60538117,8.86153846 L0.143497758,1.66153846 C0.0478325859,1.56923077 0,1.45384615 0,1.31538462 C0,1.17692308 0.0478325859,1.06153846 0.143497758,0.969230769 L1.0044843,0.138461538 C1.10014948,0.0461538462 1.21973094,0 1.3632287,0 C1.50672646,0 1.62630792,0.0461538462 1.72197309,0.138461538 L8.03587444,6.23076923 L14.2780269,0.138461538 C14.3736921,0.0461538462 14.4932735,0 14.6367713,0 Z\"\n          fill=\"currentColor\"\n        />\n      </g>\n    </svg>\n  );\n}\n","import styled from '@emotion/styled';\n\nimport { getTextColor } from '~/modules/colors';\nimport { getComponentMinHeight } from '~/modules/helpers';\n\nimport { SLUG } from '~/config';\n\nimport Spinner from '~/icons/Spinner';\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledLoading = styled.div<Styles>`\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  align-items: center;\n  color: ${({ bgColor }) => getTextColor(bgColor)};\n  cursor: pointer;\n  display: inline-flex;\n  justify-content: center;\n  min-height: ${({ minHeight }) => getComponentMinHeight(minHeight)};\n  width: 24px;\n\n  path:nth-of-type(1) {\n    transform-origin: 50% 50%;\n    animation: spin 1s linear infinite;\n  }\n`;\n\nfunction Loading(props: ComponentProps) {\n  const {\n    methods: { getStyles },\n    props: { loaderComponent },\n  } = props;\n\n  if (loaderComponent) {\n    return loaderComponent(props);\n  }\n\n  return (\n    <StyledLoading className={`${SLUG}-loading`} {...getStyles()}>\n      <Spinner />\n    </StyledLoading>\n  );\n}\n\nexport default Loading;\n","import { px } from '~/modules/helpers';\n\nexport default function Spinner({ size = 12 }: { size?: number }): JSX.Element {\n  return (\n    <svg\n      height={px(size)}\n      preserveAspectRatio=\"xMidYMid\"\n      version=\"1.1\"\n      viewBox=\"0 0 16.0 16.0\"\n      width={px(size)}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g>\n        <path\n          d=\"M8,0 L8,2.4 C4.907208,2.4 2.4,4.907208 2.4,8 L0,8 C0,3.58172 3.58172,0 8,0 Z\"\n          fill=\"currentColor\"\n        />\n        <path\n          d=\"M8,0 C12.41824,0 16,3.58172 16,8 C16,12.41824 12.41824,16 8,16 C3.58172,16 0,12.41824 0,8 C0,3.58172 3.58172,0 8,0 Z M8,2.4 C4.907208,2.4 2.4,4.907208 2.4,8 C2.4,11.0928 4.907208,13.6 8,13.6 C11.0928,13.6 13.6,11.0928 13.6,8 C13.6,4.907208 11.0928,2.4 8,2.4 Z\"\n          fill=\"currentColor\"\n          fillOpacity=\"0.3\"\n        />\n      </g>\n    </svg>\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport { hexToRGBA } from '~/modules/colors';\nimport { getPosition, px } from '~/modules/helpers';\n\nimport { SLUG } from '~/config';\n\nimport { AnyObject, ComponentProps, Position, Styles } from '~/types';\n\nimport Create from './Create';\nimport MenuItem from './MenuItem';\nimport NoData from './NoData';\n\nconst StyledMenu = styled('div')<\n  Styles & {\n    dropdownBounds: DOMRect | AnyObject;\n    isVisible: boolean;\n    position: Position;\n  }\n>(props => {\n  const {\n    bgColor,\n    borderColor,\n    borderRadius,\n    dropdownBounds,\n    gap,\n    isVisible,\n    menuMaxHeight,\n    position,\n  } = props;\n  const borderWidth = 2;\n\n  return css`\n    background-color: ${bgColor};\n    border-radius: ${borderRadius};\n    border: 1px solid ${borderColor};\n    box-shadow: 0 0 10px 0 ${hexToRGBA('#000000', 0.2)};\n    display: flex;\n    flex-direction: column;\n    left: -1px;\n    max-height: ${px(menuMaxHeight)};\n    opacity: ${isVisible ? 1 : 0};\n    overflow: auto;\n    position: absolute;\n    width: ${dropdownBounds.width}px;\n    z-index: 9;\n    ${\n      position === 'top'\n        ? `bottom: ${dropdownBounds.height + borderWidth + gap}px`\n        : `top: ${dropdownBounds.height + borderWidth + gap}px`\n    };\n\n    :focus {\n      outline: none;\n    }\n  }\n  `;\n});\n\nfunction Menu(props: ComponentProps) {\n  const {\n    methods: { getStyles },\n    props: { menuComponent },\n    state: { dropdownBounds, searchResults },\n  } = props;\n  const listRef = useRef<HTMLDivElement>(null);\n  const [isVisible, setVisible] = useState(false);\n\n  useEffect(() => {\n    setVisible(true);\n  }, []);\n\n  const position = getPosition(props, listRef.current);\n\n  return (\n    <StyledMenu\n      ref={listRef}\n      className={`${SLUG}-menu ${SLUG}-menu-position-${position}`}\n      data-component-name=\"DropdownMenu\"\n      dropdownBounds={dropdownBounds}\n      isVisible={isVisible}\n      position={position}\n      role=\"list\"\n      tabIndex={-1}\n      {...getStyles()}\n    >\n      {menuComponent ? (\n        menuComponent(props)\n      ) : (\n        <>\n          <Create {...props} />\n          {searchResults.length ? (\n            searchResults.map((item, itemIndex) => (\n              <MenuItem key={item.value} item={item} itemIndex={itemIndex} {...props} />\n            ))\n          ) : (\n            <NoData {...props} />\n          )}\n        </>\n      )}\n    </StyledMenu>\n  );\n}\n\nexport default Menu;\n","import { MouseEvent } from 'react';\nimport styled from '@emotion/styled';\n\nimport { getTextColor, hexToRGBA } from '~/modules/colors';\nimport { matchOptions } from '~/modules/helpers';\n\nimport { SLUG } from '~/config';\n\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledCreate = styled.div<Styles>`\n  color: ${({ color }) => color};\n  padding: 5px 10px;\n\n  :hover,\n  :focus {\n    background-color: ${({ color }) => hexToRGBA(color, 0.1)};\n    outline: none;\n    cursor: pointer;\n  }\n\n  &.${SLUG}-create-active {\n    background-color: ${({ color }) => color};\n    color: ${({ color }) => getTextColor(color)};\n  }\n`;\n\nexport default function Create(props: ComponentProps): JSX.Element | null {\n  const {\n    methods: { createItem, getLabels, getStyles },\n    props: { create, options },\n    state: { cursor, search, values },\n  } = props;\n  const shouldRender = create && search && !matchOptions([...values, ...options], search, false);\n\n  const { create: createLabel } = getLabels();\n\n  const handleClick = (event: MouseEvent<HTMLDivElement>) => {\n    event.stopPropagation();\n    createItem(search);\n  };\n\n  if (!shouldRender) {\n    return null;\n  }\n\n  const classes = [`${SLUG}-create`];\n\n  if (cursor === 0) {\n    classes.push(`${SLUG}-create-active`);\n  }\n\n  return (\n    <StyledCreate\n      className={classes.join(' ')}\n      data-component-name=\"DropdownCreate\"\n      onClick={handleClick}\n      role=\"button\"\n      {...getStyles()}\n    >\n      {createLabel.replace('{search}', `\"${search}\"`)}\n    </StyledCreate>\n  );\n}\n","import { MouseEvent, useEffect, useRef } from 'react';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nimport { getTextColor, hexToRGBA } from '~/modules/colors';\nimport { getOptionData } from '~/modules/helpers';\n\nimport { SLUG } from '~/config';\n\nimport { ItemComponentProps, Props, Styles } from '~/types';\n\nconst StyledMenuItem = styled.div<Styles & Required<Pick<Props, 'disabled'>>>(props => {\n  const {\n    bgColor,\n    color,\n    disabled,\n    disabledItemBgColor,\n    disabledItemColor,\n    hoverColor,\n    hoverOpacity,\n    spacingX,\n    spacingY,\n  } = props;\n\n  return css`\n    color: ${getTextColor(bgColor)};\n    cursor: pointer;\n    padding: ${spacingY} ${spacingX};\n\n    &.${SLUG}-item-active {\n      ${!disabled && `background-color: ${hexToRGBA(color, 0.2)};`}\n    }\n\n    + div {\n      border-top: 1px solid #fff;\n    }\n\n    :hover,\n    :focus {\n      background-color: ${hexToRGBA(hoverColor, hoverOpacity)};\n      outline: none;\n    }\n\n    &.${SLUG}-item-selected {\n      background-color: ${color};\n      color: ${getTextColor(color)};\n\n      &.${SLUG}-item-active {\n        background-color: ${hexToRGBA(color, 0.9)};\n      }\n    }\n\n    ${disabled &&\n    css`\n      background-color: ${disabledItemBgColor} !important;\n      color: ${disabledItemColor} !important;\n      cursor: not-allowed;\n\n      ins {\n        border-radius: 2px;\n        border: 1px solid ${disabledItemColor};\n        font-size: x-small;\n        padding: 0 3px;\n        text-decoration: none;\n        text-transform: uppercase;\n      }\n    `}\n  `;\n});\n\nexport default function MenuItem(props: ItemComponentProps) {\n  const {\n    item,\n    itemIndex,\n    methods: { addItem, getLabels, getStyles, isSelected, removeItem },\n    props: { keepSelectedInList, menuItemComponent },\n    state: { cursor },\n  } = props;\n  const ref = useRef<HTMLDivElement>(null);\n  const disabled = item.disabled || false;\n  const { disabled: disabledLabel } = getLabels();\n\n  useEffect(() => {\n    if (cursor === itemIndex) {\n      ref.current?.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\n    }\n  }, [cursor, itemIndex]);\n\n  const handleClick = (event: MouseEvent<HTMLDivElement>) => {\n    event.stopPropagation();\n\n    if (disabled) {\n      return;\n    }\n\n    if (isSelected(item)) {\n      removeItem(null, item, false);\n    } else {\n      addItem(item);\n    }\n  };\n\n  if (menuItemComponent) {\n    return menuItemComponent(props);\n  }\n\n  if (!keepSelectedInList && isSelected(item)) {\n    return null;\n  }\n\n  const classes = [`${SLUG}-item`];\n\n  if (isSelected(item)) {\n    classes.push(`${SLUG}-item-selected`);\n  }\n\n  if (cursor === itemIndex) {\n    classes.push(`${SLUG}-item-active`);\n  }\n\n  if (disabled) {\n    classes.push(`${SLUG}-item-disabled`);\n  }\n\n  return (\n    <StyledMenuItem\n      key={`${getOptionData(item, 'value')}${getOptionData(item, 'label')}`}\n      ref={ref}\n      aria-disabled={disabled}\n      aria-label={getOptionData(item, 'label')}\n      aria-selected={isSelected(item)}\n      className={classes.join(' ')}\n      data-component-name=\"DropdownMenuItem\"\n      disabled={disabled}\n      onClick={handleClick}\n      role=\"option\"\n      tabIndex={-1}\n      {...getStyles()}\n      style={item.style}\n    >\n      {getOptionData(item, 'label')} {disabled && <ins>{disabledLabel}</ins>}\n    </StyledMenuItem>\n  );\n}\n","import styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledNoData = styled.div<Styles>`\n  color: ${({ color }) => color};\n  padding: 10px;\n  text-align: center;\n`;\n\nfunction NoData(props: ComponentProps) {\n  const {\n    methods: { getLabels, getStyles },\n    props: { noDataComponent },\n  } = props;\n  const { noData } = getLabels();\n\n  if (noDataComponent) {\n    return noDataComponent(props);\n  }\n\n  return (\n    <StyledNoData\n      className={`${SLUG}-no-data`}\n      data-component-name=\"DropdownNoData\"\n      {...getStyles()}\n    >\n      {noData}\n    </StyledNoData>\n  );\n}\n\nexport default NoData;\n","import styled from '@emotion/styled';\n\nimport { SLUG } from '~/config';\n\nimport { ComponentProps, Styles } from '~/types';\n\nconst StyledSeparator = styled.div<Styles>`\n  align-self: stretch;\n  background-color: ${({ borderColor }) => borderColor};\n  display: block;\n  width: 1px;\n`;\n\nexport default function Separator(props: ComponentProps) {\n  const {\n    methods: { getStyles },\n    props: { separatorComponent },\n  } = props;\n\n  if (separatorComponent) {\n    return separatorComponent(props);\n  }\n\n  return <StyledSeparator className={`${SLUG}-separator`} {...getStyles()} />;\n}\n"]},"metadata":{},"sourceType":"module"}