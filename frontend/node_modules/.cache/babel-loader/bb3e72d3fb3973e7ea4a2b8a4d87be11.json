{"ast":null,"code":"import axios from \"axios\";\nconst api = axios.create({\n  baseURL: \"http://localhost:3001\"\n});\napi.interceptors.request.use(config => {\n  if (localStorage.token) {\n    const authLink = \"http://localhost:3001/auth\";\n    axios.get(authLink, {\n      headers: {\n        Authorization: `Bearer ${localStorage.token}`\n      }\n    });\n  }\n\n  return config;\n});\napi.interceptors.response.use(response => {\n  return response;\n}, err => {\n  console.log(err.stasusCode);\n  return err;\n});\nexport const getPeople = query => {\n  return api.get(`people/?page=${query.page}`);\n};\nexport const getPlanets = query => {\n  return api.get(`planets/?page=${query.page}`);\n};\nexport const getVehicles = query => {\n  return api.get(`vehicles/?page=${query.page}`);\n};\nexport const getStarships = query => {\n  return api.get(`starships/?page=${query.page}`);\n};\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","interceptors","request","use","config","localStorage","token","authLink","get","headers","Authorization","response","err","console","log","stasusCode","getPeople","query","page","getPlanets","getVehicles","getStarships"],"sources":["/My_WORK/graduate_React/frontend/src/api/index.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:3001\",\n});\n\napi.interceptors.request.use((config) => {\n  if (localStorage.token) {\n    const authLink = \"http://localhost:3001/auth\";\n    axios.get(\n      authLink,\n      { headers: { Authorization: `Bearer ${localStorage.token}` } }\n    );\n  }\n  return config;\n});\n\napi.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (err) => {\n    console.log(err.stasusCode);\n    return err;\n  }\n);\n\nexport const getPeople = (query: any) => {\n  return api.get(`people/?page=${query.page}`);\n};\n\nexport const getPlanets = (query: any) => {\n  return api.get(`planets/?page=${query.page}`);\n};\n\nexport const getVehicles = (query: any) => {\n  return api.get(`vehicles/?page=${query.page}`);\n};\n\nexport const getStarships = (query: any) => {\n  return api.get(`starships/?page=${query.page}`);\n};\n\nexport default api;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;EACvBC,OAAO,EAAE;AADc,CAAb,CAAZ;AAIAF,GAAG,CAACG,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA8BC,MAAD,IAAY;EACvC,IAAIC,YAAY,CAACC,KAAjB,EAAwB;IACtB,MAAMC,QAAQ,GAAG,4BAAjB;IACAV,KAAK,CAACW,GAAN,CACED,QADF,EAEE;MAAEE,OAAO,EAAE;QAAEC,aAAa,EAAG,UAASL,YAAY,CAACC,KAAM;MAA9C;IAAX,CAFF;EAID;;EACD,OAAOF,MAAP;AACD,CATD;AAWAN,GAAG,CAACG,YAAJ,CAAiBU,QAAjB,CAA0BR,GAA1B,CACGQ,QAAD,IAAc;EACZ,OAAOA,QAAP;AACD,CAHH,EAIGC,GAAD,IAAS;EACPC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,UAAhB;EACA,OAAOH,GAAP;AACD,CAPH;AAUA,OAAO,MAAMI,SAAS,GAAIC,KAAD,IAAgB;EACvC,OAAOnB,GAAG,CAACU,GAAJ,CAAS,gBAAeS,KAAK,CAACC,IAAK,EAAnC,CAAP;AACD,CAFM;AAIP,OAAO,MAAMC,UAAU,GAAIF,KAAD,IAAgB;EACxC,OAAOnB,GAAG,CAACU,GAAJ,CAAS,iBAAgBS,KAAK,CAACC,IAAK,EAApC,CAAP;AACD,CAFM;AAIP,OAAO,MAAME,WAAW,GAAIH,KAAD,IAAgB;EACzC,OAAOnB,GAAG,CAACU,GAAJ,CAAS,kBAAiBS,KAAK,CAACC,IAAK,EAArC,CAAP;AACD,CAFM;AAIP,OAAO,MAAMG,YAAY,GAAIJ,KAAD,IAAgB;EAC1C,OAAOnB,GAAG,CAACU,GAAJ,CAAS,mBAAkBS,KAAK,CAACC,IAAK,EAAtC,CAAP;AACD,CAFM;AAIP,eAAepB,GAAf"},"metadata":{},"sourceType":"module"}