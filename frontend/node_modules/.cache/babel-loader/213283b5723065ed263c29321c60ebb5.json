{"ast":null,"code":"import axios from \"axios\"; //import { useGlobalState } from '../state';\n\nconst api = axios.create({\n  baseURL: \"http://localhost:3001\"\n});\napi.interceptors.request.use(config => {\n  if (localStorage.token) {\n    const authLink = \"http://localhost:3001/auth\";\n    axios.get(authLink, {\n      headers: {\n        Authorization: `Bearer ${localStorage.token}`\n      }\n    }).then(res => {\n      if (res.data) {} else {}\n    });\n  }\n\n  return config;\n});\napi.interceptors.response.use(response => {\n  return response;\n}, err => {\n  console.log(err.stasusCode);\n  return err;\n});\nexport const getPeople = query => {\n  return api.get(`people/?page=${query.page}`);\n};\nexport const getCountPeople = () => {\n  return api.get(`people/`);\n};\nexport const getPlanets = query => {\n  return api.get(`planets/?page=${query.page}`);\n};\nexport const getVehicles = query => {\n  return api.get(`vehicles/?page=${query.page}`);\n};\nexport const getStarships = query => {\n  return api.get(`starships/?page=${query.page}`);\n};\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","interceptors","request","use","config","localStorage","token","authLink","get","headers","Authorization","then","res","data","response","err","console","log","stasusCode","getPeople","query","page","getCountPeople","getPlanets","getVehicles","getStarships"],"sources":["/My_WORK/graduate_React/frontend/src/api/index.ts"],"sourcesContent":["import axios from \"axios\";\n//import { useGlobalState } from '../state';\n\nconst api = axios.create({\n  baseURL: \"http://localhost:3001\",\n});\n\napi.interceptors.request.use((config) => {\n  if (localStorage.token) {\n    const authLink = \"http://localhost:3001/auth\";\n    axios.get(\n      authLink,\n      { headers: { Authorization: `Bearer ${localStorage.token}` } }\n    ).then((res)=> { \n      \n      if(res.data) {\n        \n       }\n       else {\n        \n       }\n\n     });\n     \n  }\n  return config;\n});\n\napi.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (err) => {\n    console.log(err.stasusCode);\n    return err;\n  }\n);\n\nexport const getPeople = (query: any) => {\n  return api.get(`people/?page=${query.page}`);\n};\n\nexport const getCountPeople = () => {\n  return api.get(`people/`);\n};\n\n\nexport const getPlanets = (query: any) => {\n  return api.get(`planets/?page=${query.page}`);\n};\n\nexport const getVehicles = (query: any) => {\n  return api.get(`vehicles/?page=${query.page}`);\n};\n\nexport const getStarships = (query: any) => {\n  return api.get(`starships/?page=${query.page}`);\n};\n\nexport default api;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AAEA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;EACvBC,OAAO,EAAE;AADc,CAAb,CAAZ;AAIAF,GAAG,CAACG,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA8BC,MAAD,IAAY;EACvC,IAAIC,YAAY,CAACC,KAAjB,EAAwB;IACtB,MAAMC,QAAQ,GAAG,4BAAjB;IACAV,KAAK,CAACW,GAAN,CACED,QADF,EAEE;MAAEE,OAAO,EAAE;QAAEC,aAAa,EAAG,UAASL,YAAY,CAACC,KAAM;MAA9C;IAAX,CAFF,EAGEK,IAHF,CAGQC,GAAD,IAAQ;MAEb,IAAGA,GAAG,CAACC,IAAP,EAAa,CAEX,CAFF,MAGM,CAEJ;IAEF,CAZF;EAcD;;EACD,OAAOT,MAAP;AACD,CAnBD;AAqBAN,GAAG,CAACG,YAAJ,CAAiBa,QAAjB,CAA0BX,GAA1B,CACGW,QAAD,IAAc;EACZ,OAAOA,QAAP;AACD,CAHH,EAIGC,GAAD,IAAS;EACPC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,UAAhB;EACA,OAAOH,GAAP;AACD,CAPH;AAUA,OAAO,MAAMI,SAAS,GAAIC,KAAD,IAAgB;EACvC,OAAOtB,GAAG,CAACU,GAAJ,CAAS,gBAAeY,KAAK,CAACC,IAAK,EAAnC,CAAP;AACD,CAFM;AAIP,OAAO,MAAMC,cAAc,GAAG,MAAM;EAClC,OAAOxB,GAAG,CAACU,GAAJ,CAAS,SAAT,CAAP;AACD,CAFM;AAKP,OAAO,MAAMe,UAAU,GAAIH,KAAD,IAAgB;EACxC,OAAOtB,GAAG,CAACU,GAAJ,CAAS,iBAAgBY,KAAK,CAACC,IAAK,EAApC,CAAP;AACD,CAFM;AAIP,OAAO,MAAMG,WAAW,GAAIJ,KAAD,IAAgB;EACzC,OAAOtB,GAAG,CAACU,GAAJ,CAAS,kBAAiBY,KAAK,CAACC,IAAK,EAArC,CAAP;AACD,CAFM;AAIP,OAAO,MAAMI,YAAY,GAAIL,KAAD,IAAgB;EAC1C,OAAOtB,GAAG,CAACU,GAAJ,CAAS,mBAAkBY,KAAK,CAACC,IAAK,EAAtC,CAAP;AACD,CAFM;AAIP,eAAevB,GAAf"},"metadata":{},"sourceType":"module"}