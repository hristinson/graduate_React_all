{"ast":null,"code":"import * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport is from 'is-lite';\nimport { canUseDOM, portalId } from '../modules/helpers';\nimport { useMount, useSingleton, useUnmount } from '../modules/hooks';\n\nfunction ReactFloaterPortal(props) {\n  var children = props.children,\n      hasChildren = props.hasChildren,\n      placement = props.placement,\n      portalElement = props.portalElement,\n      target = props.target,\n      zIndex = props.zIndex;\n  var node = React.useRef(null);\n  var initialize = React.useCallback(function () {\n    if (!canUseDOM) {\n      return;\n    }\n\n    if (portalElement) {\n      node.current = is.string(portalElement) ? document.querySelector(portalElement) : portalElement;\n    }\n\n    if (!portalElement || !node.current) {\n      var portal = document.getElementById('react-floater-portal');\n\n      if (portal) {\n        node.current = portal;\n      } else {\n        node.current = document.createElement('div');\n        node.current.id = portalId;\n        node.current.style.zIndex = \"\".concat(zIndex);\n        document.body.appendChild(node.current);\n      }\n    }\n  }, [portalElement, zIndex]);\n  useSingleton(initialize);\n  useMount(function () {\n    if (!portalElement && !document.getElementById(portalId)) {\n      if (node.current) {\n        document.body.appendChild(node.current);\n      } else {\n        initialize();\n      }\n    }\n  });\n  useUnmount(function () {\n    if (!canUseDOM || !node.current) {\n      return;\n    }\n\n    try {\n      if (node.current.id === portalId && node.current.childElementCount === 0) {\n        if (document.body.contains(node.current)) {\n          document.body.removeChild(node.current);\n          node.current = null;\n        }\n      }\n    } catch (_a) {\n      node.current = null;\n    }\n  });\n\n  if (node.current) {\n    if (!hasChildren && !target && placement !== 'center') {\n      return null;\n    }\n\n    return createPortal(children, node.current);\n  }\n\n  return null;\n}\n\nexport default ReactFloaterPortal;","map":{"version":3,"mappings":"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","names":["React","createPortal","is","canUseDOM","portalId","useMount","useSingleton","useUnmount","ReactFloaterPortal","props","hasChildren","placement","portalElement","target","zIndex","node","useRef","initialize","useCallback","current","string","document","querySelector","portal","getElementById","createElement","id","style","body","appendChild","childElementCount","contains","removeChild","children"],"sources":["/My_WORK/graduate_React/frontend/node_modules/react-floater/src/components/Portal.tsx"],"sourcesContent":["import * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport is from 'is-lite';\n\nimport { canUseDOM, portalId } from '../modules/helpers';\nimport { useMount, useSingleton, useUnmount } from '../modules/hooks';\nimport { PlacementOptions, SelectorOrElement } from '../types';\n\ninterface Props {\n  children: React.ReactNode;\n  hasChildren: boolean;\n  placement: PlacementOptions;\n  portalElement?: SelectorOrElement;\n  target?: SelectorOrElement;\n  zIndex: string | number;\n}\n\nfunction ReactFloaterPortal(props: Props): JSX.Element | null {\n  const { children, hasChildren, placement, portalElement, target, zIndex } = props;\n  const node = React.useRef<HTMLElement | null>(null);\n\n  const initialize = React.useCallback(() => {\n    if (!canUseDOM) {\n      return;\n    }\n\n    if (portalElement) {\n      node.current = is.string(portalElement)\n        ? (document.querySelector(portalElement) as HTMLElement)\n        : portalElement;\n    }\n\n    if (!portalElement || !node.current) {\n      const portal = document.getElementById('react-floater-portal');\n\n      if (portal) {\n        node.current = portal;\n      } else {\n        node.current = document.createElement('div');\n        node.current.id = portalId;\n        node.current.style.zIndex = `${zIndex}`;\n\n        document.body.appendChild(node.current);\n      }\n    }\n  }, [portalElement, zIndex]);\n\n  useSingleton(initialize);\n\n  useMount(() => {\n    if (!portalElement && !document.getElementById(portalId)) {\n      if (node.current) {\n        document.body.appendChild(node.current);\n      } else {\n        initialize();\n      }\n    }\n  });\n\n  useUnmount(() => {\n    if (!canUseDOM || !node.current) {\n      return;\n    }\n\n    try {\n      if (node.current.id === portalId && node.current.childElementCount === 0) {\n        if (document.body.contains(node.current)) {\n          document.body.removeChild(node.current);\n          node.current = null;\n        }\n      }\n    } catch {\n      node.current = null;\n    }\n  });\n\n  if (node.current) {\n    if (!hasChildren && !target && placement !== 'center') {\n      return null;\n    }\n\n    return createPortal(children, node.current);\n  }\n\n  return null;\n}\n\nexport default ReactFloaterPortal;\n"]},"metadata":{},"sourceType":"module"}