{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { forwardRef, useEffect, useRef } from 'react';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\nimport Item from './Item';\nimport { getTheme, px } from '../modules/helpers';\nimport { getStyledOptions, isDarkMode } from '../modules/system';\nconst StyledSearchItems = styled('div', getStyledOptions())(props => {\n  const {\n    active,\n    height\n  } = props;\n  const {\n    grayDarker,\n    radius,\n    shadow,\n    spacing,\n    white\n  } = getTheme(props);\n  const darkMode = isDarkMode(props);\n  return css`\n    background-color: ${darkMode ? grayDarker : white};\n    border-radius: ${radius.xxs};\n    box-shadow: ${shadow.mid};\n    left: 0;\n    max-height: ${px(height)};\n    margin-top: ${spacing.xs};\n    overflow-y: auto;\n    position: absolute;\n    right: 0;\n    top: 100%;\n    transform-origin: top;\n    transform: scaleY(0);\n    transition: transform 0.3s;\n\n    ${active && css`\n      transform: scaleY(1);\n    `}\n  `;\n});\n\nfunction getSharedStyles(spacing) {\n  return css`\n    align-items: center;\n    display: flex;\n    padding: ${spacing.xs} ${spacing.sm};\n    width: 100%;\n  `;\n}\n\nconst Empty = styled('div', getStyledOptions())(props => {\n  const {\n    spacing\n  } = getTheme(props);\n  return css`\n    ${getSharedStyles(spacing)};\n    justify-content: center;\n  `;\n});\nconst SearchItems = forwardRef((props, ref) => {\n  const {\n    active,\n    cursor,\n    height,\n    items,\n    noResultsLabel,\n    onSelect\n  } = props;\n  const isActive = useRef(false);\n  useEffect(() => {\n    isActive.current = true;\n    return () => {\n      isActive.current = false;\n    };\n  }, []);\n  const content = {};\n  content.items = !items.length ? _jsx(Empty, {\n    children: noResultsLabel\n  }) : items.map((data, index) => _jsx(Item, {\n    isSelected: cursor === index,\n    onClick: onSelect,\n    value: data.value,\n    children: data.label || data.value\n  }, data.value));\n  return _jsx(StyledSearchItems, {\n    ref: ref,\n    active: active,\n    \"data-component-name\": \"SearchItems\",\n    height: height,\n    role: \"list\",\n    tabIndex: 0,\n    children: content.items\n  });\n});\nexport default SearchItems;","map":{"version":3,"mappings":";AAAA,SAASA,UAAT,EAAwCC,SAAxC,EAAmDC,MAAnD,QAAiE,OAAjE;AACA,SAASC,GAAT,QAAoB,gBAApB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAGA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,SAASC,QAAT,EAAmBC,EAAnB,QAA6B,oBAA7B;AACA,SAASC,gBAAT,EAA2BC,UAA3B,QAA6C,mBAA7C;AAWA,MAAMC,iBAAiB,GAAGN,MAAM,CAC9B,KAD8B,EAE9BI,gBAAgB,EAFc,CAAN,CAGqBG,KAAK,IAAG;EACrD,MAAM;IAAEC,MAAF;IAAUC;EAAV,IAAqBF,KAA3B;EACA,MAAM;IAAEG,UAAF;IAAcC,MAAd;IAAsBC,MAAtB;IAA8BC,OAA9B;IAAuCC;EAAvC,IAAiDZ,QAAQ,CAACK,KAAD,CAA/D;EACA,MAAMQ,QAAQ,GAAGV,UAAU,CAACE,KAAD,CAA3B;EAEA,OAAOR,GAAG;wBACYgB,QAAQ,GAAGL,UAAH,GAAgBI,KAAK;qBAChCH,MAAM,CAACK,GAAG;kBACbJ,MAAM,CAACK,GAAG;;kBAEVd,EAAE,CAACM,MAAD,CAAQ;kBACVI,OAAO,CAACK,EAAE;;;;;;;;;MAStBV,MAAM,IACRT,GAAG;;KAEF;GAlBH;AAoBD,CA5ByB,CAA1B;;AA8BA,SAASoB,eAAT,CAAyBN,OAAzB,EAAkD;EAChD,OAAOd,GAAG;;;eAGGc,OAAO,CAACK,EAAE,IAAIL,OAAO,CAACO,EAAE;;GAHrC;AAMD;;AAED,MAAMC,KAAK,GAAGrB,MAAM,CAClB,KADkB,EAElBI,gBAAgB,EAFE,CAAN,CAGZG,KAAK,IAAG;EACR,MAAM;IAAEM;EAAF,IAAcX,QAAQ,CAACK,KAAD,CAA5B;EAEA,OAAOR,GAAG;MACNoB,eAAe,CAACN,OAAD,CAAS;;GAD5B;AAID,CAVa,CAAd;AAYA,MAAMS,WAAW,GAAG1B,UAAU,CAAmC,CAACW,KAAD,EAAQgB,GAAR,KAAe;EAC9E,MAAM;IAAEf,MAAF;IAAUgB,MAAV;IAAkBf,MAAlB;IAA0BgB,KAA1B;IAAiCC,cAAjC;IAAiDC;EAAjD,IAA8DpB,KAApE;EACA,MAAMqB,QAAQ,GAAG9B,MAAM,CAAC,KAAD,CAAvB;EAEAD,SAAS,CAAC,MAAK;IACb+B,QAAQ,CAACC,OAAT,GAAmB,IAAnB;IAEA,OAAO,MAAK;MACVD,QAAQ,CAACC,OAAT,GAAmB,KAAnB;IACD,CAFD;EAGD,CANQ,EAMN,EANM,CAAT;EAQA,MAAMC,OAAO,GAAc,EAA3B;EAEAA,OAAO,CAACL,KAAR,GAAgB,CAACA,KAAK,CAACM,MAAP,GACdC,KAACX,KAAD,EAAM;IAAAY,UAAEP;EAAF,CAAN,CADc,GAGdD,KAAK,CAACS,GAAN,CAAU,CAACC,IAAD,EAAOC,KAAP,KACRJ,KAAC/B,IAAD,EAAK;IAAkBoC,UAAU,EAAEb,MAAM,KAAKY,KAAzC;IAAgDE,OAAO,EAAEX,QAAzD;IAAmEY,KAAK,EAAEJ,IAAI,CAACI,KAA/E;IAAoFN,UACtFE,IAAI,CAACK,KAAL,IAAcL,IAAI,CAACI;EADjB,CAAL,EAAWJ,IAAI,CAACI,KAAhB,CADF,CAHF;EAUA,OACEP,KAAC1B,iBAAD,EAAkB;IAChBiB,GAAG,EAAEA,GADW;IAEhBf,MAAM,EAAEA,MAFQ;IAEF,uBACM,aAHJ;IAIhBC,MAAM,EAAEA,MAJQ;IAKhBgC,IAAI,EAAC,MALW;IAMhBC,QAAQ,EAAE,CANM;IAMLT,UAEVH,OAAO,CAACL;EARO,CAAlB,CADF;AAYD,CApC6B,CAA9B;AAsCA,eAAeH,WAAf","names":["forwardRef","useEffect","useRef","css","styled","Item","getTheme","px","getStyledOptions","isDarkMode","StyledSearchItems","props","active","height","grayDarker","radius","shadow","spacing","white","darkMode","xxs","mid","xs","getSharedStyles","sm","Empty","SearchItems","ref","cursor","items","noResultsLabel","onSelect","isActive","current","content","length","_jsx","children","map","data","index","isSelected","onClick","value","label","role","tabIndex"],"sources":["/My_WORK/graduate_React/frontend/node_modules/@gilbarbara/components/src/Search/Items.tsx"],"sourcesContent":["import { forwardRef, MouseEventHandler, useEffect, useRef } from 'react';\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\nimport { AnyObject, StringOrNumber } from '@gilbarbara/types';\n\nimport Item from './Item';\n\nimport { getTheme, px } from '../modules/helpers';\nimport { getStyledOptions, isDarkMode } from '../modules/system';\nimport { SearchItem, SearchProps, Theme } from '../types';\n\ninterface SearchItemsProps extends Pick<SearchProps, 'noResultsLabel'> {\n  active: boolean;\n  cursor: number;\n  height: StringOrNumber;\n  items: SearchItem[];\n  onSelect: MouseEventHandler;\n}\n\nconst StyledSearchItems = styled(\n  'div',\n  getStyledOptions(),\n)<{ active: boolean; height: StringOrNumber }>(props => {\n  const { active, height } = props;\n  const { grayDarker, radius, shadow, spacing, white } = getTheme(props);\n  const darkMode = isDarkMode(props);\n\n  return css`\n    background-color: ${darkMode ? grayDarker : white};\n    border-radius: ${radius.xxs};\n    box-shadow: ${shadow.mid};\n    left: 0;\n    max-height: ${px(height)};\n    margin-top: ${spacing.xs};\n    overflow-y: auto;\n    position: absolute;\n    right: 0;\n    top: 100%;\n    transform-origin: top;\n    transform: scaleY(0);\n    transition: transform 0.3s;\n\n    ${active &&\n    css`\n      transform: scaleY(1);\n    `}\n  `;\n});\n\nfunction getSharedStyles(spacing: Theme['spacing']) {\n  return css`\n    align-items: center;\n    display: flex;\n    padding: ${spacing.xs} ${spacing.sm};\n    width: 100%;\n  `;\n}\n\nconst Empty = styled(\n  'div',\n  getStyledOptions(),\n)(props => {\n  const { spacing } = getTheme(props);\n\n  return css`\n    ${getSharedStyles(spacing)};\n    justify-content: center;\n  `;\n});\n\nconst SearchItems = forwardRef<HTMLDivElement, SearchItemsProps>((props, ref) => {\n  const { active, cursor, height, items, noResultsLabel, onSelect } = props;\n  const isActive = useRef(false);\n\n  useEffect(() => {\n    isActive.current = true;\n\n    return () => {\n      isActive.current = false;\n    };\n  }, []);\n\n  const content: AnyObject = {};\n\n  content.items = !items.length ? (\n    <Empty>{noResultsLabel}</Empty>\n  ) : (\n    items.map((data, index) => (\n      <Item key={data.value} isSelected={cursor === index} onClick={onSelect} value={data.value}>\n        {data.label || data.value}\n      </Item>\n    ))\n  );\n\n  return (\n    <StyledSearchItems\n      ref={ref}\n      active={active}\n      data-component-name=\"SearchItems\"\n      height={height}\n      role=\"list\"\n      tabIndex={0}\n    >\n      {content.items}\n    </StyledSearchItems>\n  );\n});\n\nexport default SearchItems;\n"]},"metadata":{},"sourceType":"module"}